{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaina/OneDrive/Documents/GitHub/Rentify/frontend/components/ThemeToggle.jsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { Moon, Sun } from 'lucide-react';\r\n\r\nconst STORAGE_KEY = 'luxerent-theme';\r\n\r\nexport default function ThemeToggle() {\r\n  const [theme, setTheme] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined') return;\r\n    const stored = window.localStorage.getItem(STORAGE_KEY);\r\n    const prefersDark = window.matchMedia?.('(prefers-color-scheme: dark)').matches;\r\n    const next = stored || (prefersDark ? 'dark' : 'light');\r\n    setTheme(next);\r\n    document.documentElement.classList.toggle('dark', next === 'dark');\r\n  }, []);\r\n\r\n  const toggleTheme = () => {\r\n    setTheme((prev) => {\r\n      const next = prev === 'dark' ? 'light' : 'dark';\r\n      if (typeof window !== 'undefined') {\r\n        document.documentElement.classList.toggle('dark', next === 'dark');\r\n        window.localStorage.setItem(STORAGE_KEY, next);\r\n      }\r\n      return next;\r\n    });\r\n  };\r\n\r\n  if (theme === null) return <div className=\"w-10 h-10\" aria-hidden=\"true\" />;\r\n\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      onClick={toggleTheme}\r\n      aria-label={theme === 'dark' ? 'Switch to light mode' : 'Switch to dark mode'}\r\n      className=\"p-2.5 rounded-xl hover:bg-secondary transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-background\"\r\n    >\r\n      {theme === 'dark' ? (\r\n        <Sun size={18} className=\"text-amber-400\" />\r\n      ) : (\r\n        <Moon size={18} className=\"text-muted-foreground\" />\r\n      )}\r\n    </button>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAHA;;;;AAKA,MAAM,cAAc;AAEL,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,6NAAQ,EAAC;IAEnC,IAAA,8NAAS,EAAC;QACR,wCAAmC;;;QACnC,MAAM;QACN,MAAM;QACN,MAAM;IAGR,GAAG,EAAE;IAEL,MAAM,cAAc;QAClB,SAAS,CAAC;YACR,MAAM,OAAO,SAAS,SAAS,UAAU;YACzC;;YAIA,OAAO;QACT;IACF;IAEA,IAAI,UAAU,MAAM,qBAAO,0PAAC;QAAI,WAAU;QAAY,eAAY;;;;;;IAElE,qBACE,0PAAC;QACC,MAAK;QACL,SAAS;QACT,cAAY,UAAU,SAAS,yBAAyB;QACxD,WAAU;kBAET,UAAU,uBACT,0PAAC,mNAAG;YAAC,MAAM;YAAI,WAAU;;;;;iCAEzB,0PAAC,sNAAI;YAAC,MAAM;YAAI,WAAU;;;;;;;;;;;AAIlC"}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaina/OneDrive/Documents/GitHub/Rentify/frontend/components/Navbar.jsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { logout } from '@/store/slices/authSlice';\r\nimport { clearCart } from '@/store/slices/cartSlice';\r\nimport { ShoppingCart, LogOut, Menu, X, Calendar, Heart, CreditCard } from 'lucide-react';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport Image from 'next/image';\r\nimport ThemeToggle from '@/components/ThemeToggle';\r\n\r\nexport default function Navbar() {\r\n  const dispatch = useDispatch();\r\n  const { user } = useSelector((state) => state.auth);\r\n  const cartCount = useSelector((state) => state.cart.items.length);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [profileOpen, setProfileOpen] = useState(false);\r\n  const [scrolled, setScrolled] = useState(false);\r\n  const profileRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => setScrolled(window.scrollY > 20);\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (e) => {\r\n      if (profileRef.current && !profileRef.current.contains(e.target)) setProfileOpen(false);\r\n    };\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    dispatch(logout());\r\n    dispatch(clearCart());\r\n    setProfileOpen(false);\r\n  };\r\n\r\n  const profileLinks = [\r\n    { href: '/dashboard', label: 'My Rentals', icon: <Calendar size={18} /> },\r\n    { href: '/dashboard', label: 'Order History', icon: <Calendar size={18} /> },\r\n    { href: '/wishlist', label: 'Wishlist', icon: <Heart size={18} /> },\r\n    { href: '/cart', label: 'Cart', icon: <ShoppingCart size={18} /> },\r\n    { href: '/profile', label: 'Profile & Payments', icon: <CreditCard size={18} /> },\r\n  ];\r\n\r\n  return (\r\n    <nav className={`fixed w-full z-50 transition-all duration-300 ${scrolled ? 'bg-background/80 dark:bg-background/90 backdrop-blur-xl shadow-sm dark:shadow-black/20 border-b border-border py-3' : 'bg-transparent py-5'}`}>\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"flex justify-between items-center\">\r\n          <Link href=\"/\" className=\"flex items-center gap-2\">\r\n            <span className=\"text-2xl font-bold tracking-tighter text-foreground\">\r\n              LUXE<span className=\"text-emerald-500 dark:text-cyan-400\">RENT</span>\r\n            </span>\r\n          </Link>\r\n          <div className=\"hidden md:flex items-center gap-8\">\r\n            <Link href=\"/products\" className=\"text-muted-foreground hover:text-foreground font-medium transition-colors\">Browse</Link>\r\n            {user?.role === 'renter' && <Link href=\"/discover\" className=\"text-muted-foreground hover:text-foreground font-medium transition-colors\">Discover</Link>}\r\n            {user?.role === 'seller' && <Link href=\"/seller/dashboard\" className=\"text-muted-foreground hover:text-foreground font-medium transition-colors\">Seller Panel</Link>}\r\n            {user?.role === 'admin' && <Link href=\"/admin\" className=\"text-muted-foreground hover:text-foreground font-medium transition-colors\">Admin</Link>}\r\n          </div>\r\n          <div className=\"hidden md:flex items-center gap-3\">\r\n            <ThemeToggle />\r\n            {user ? (\r\n              <>\r\n                <Link href=\"/cart\" className=\"relative p-2 rounded-xl hover:bg-secondary transition-colors\">\r\n                  <ShoppingCart size={22} className=\"text-muted-foreground\" />\r\n                  {cartCount > 0 && (\r\n                    <span className=\"absolute -top-0.5 -right-0.5 w-5 h-5 rounded-full bg-emerald-500 text-white text-xs font-bold flex items-center justify-center\">\r\n                      {cartCount > 9 ? '9+' : cartCount}\r\n                    </span>\r\n                  )}\r\n                </Link>\r\n                <div className=\"relative\" ref={profileRef}>\r\n                  <button onClick={() => setProfileOpen(!profileOpen)} className=\"flex items-center gap-2 px-2 py-1.5 rounded-xl hover:bg-secondary transition-all\">\r\n                    {user?.avatar || user?.image ? (\r\n                      <div className=\"relative w-9 h-9 rounded-full overflow-hidden\">\r\n                        <Image src={user.avatar || user.image} alt={user.name} fill className=\"object-cover\" />\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"w-9 h-9 rounded-full bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-400 flex items-center justify-center font-bold\">\r\n                        {user?.name?.charAt(0)?.toUpperCase() || 'U'}\r\n                      </div>\r\n                    )}\r\n                    <span className=\"font-medium text-sm text-foreground max-w-[100px] truncate\">{user.name}</span>\r\n                  </button>\r\n                  <AnimatePresence>\r\n                    {profileOpen && (\r\n                      <motion.div initial={{ opacity: 0, y: -8 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -8 }} transition={{ duration: 0.15 }} className=\"absolute right-0 mt-2 w-56 bg-popover dark:bg-card rounded-2xl border border-border shadow-xl dark:shadow-black/40 py-2 overflow-hidden backdrop-blur-xl\">\r\n                        {profileLinks.map((link) => (\r\n                          <Link key={link.label} href={link.href} onClick={() => setProfileOpen(false)} className=\"flex items-center gap-3 px-4 py-3 text-foreground hover:bg-accent font-medium text-sm\">\r\n                            {link.icon}\r\n                            {link.label}\r\n                          </Link>\r\n                        ))}\r\n                        <button onClick={handleLogout} className=\"w-full flex items-center gap-3 px-4 py-3 text-destructive hover:bg-destructive/10 font-medium text-sm\">\r\n                          <LogOut size={18} /> Logout\r\n                        </button>\r\n                      </motion.div>\r\n                    )}\r\n                  </AnimatePresence>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <div className=\"flex items-center gap-3\">\r\n                <Link href=\"/login\" className=\"px-5 py-2 text-muted-foreground font-medium hover:text-foreground transition-colors\">Login</Link>\r\n                <Link href=\"/register\" className=\"px-6 py-2 bg-primary text-primary-foreground rounded-xl font-medium hover:opacity-90 transition-all shadow-lg\">Sign Up</Link>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"md:hidden flex items-center gap-2\">\r\n            <ThemeToggle />\r\n            <Link href=\"/cart\" className=\"relative p-2\">\r\n              <ShoppingCart size={22} className=\"text-muted-foreground\" />\r\n              {cartCount > 0 && (\r\n                <span className=\"absolute top-0 right-0 w-4 h-4 rounded-full bg-emerald-500 text-white text-[10px] font-bold flex items-center justify-center\">\r\n                  {cartCount > 9 ? '9+' : cartCount}\r\n                </span>\r\n              )}\r\n            </Link>\r\n            <button onClick={() => setIsOpen(!isOpen)}>{isOpen ? <X size={24} /> : <Menu size={24} />}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <AnimatePresence>\r\n        {isOpen && (\r\n          <motion.div initial={{ opacity: 0, y: -20 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -20 }} className=\"md:hidden bg-background dark:bg-card border-t border-border p-4 space-y-2 shadow-xl\">\r\n            <Link href=\"/products\" className=\"block py-3 font-medium text-foreground\" onClick={() => setIsOpen(false)}>Browse Rentals</Link>\r\n            <Link href=\"/discover\" className=\"block py-3 font-medium text-foreground\" onClick={() => setIsOpen(false)}>Discover</Link>\r\n            <Link href=\"/cart\" className=\"block py-3 font-medium text-foreground\" onClick={() => setIsOpen(false)}>Cart {cartCount > 0 && `(${cartCount})`}</Link>\r\n            {user && (\r\n              <>\r\n                <Link href=\"/dashboard\" className=\"block py-3 font-medium text-foreground\" onClick={() => setIsOpen(false)}>My Rentals</Link>\r\n                <Link href=\"/wishlist\" className=\"block py-3 font-medium text-foreground\" onClick={() => setIsOpen(false)}>Wishlist</Link>\r\n                <Link href=\"/profile\" className=\"block py-3 font-medium text-foreground\" onClick={() => setIsOpen(false)}>Profile</Link>\r\n                {user.role === 'seller' && <Link href=\"/seller/dashboard\" className=\"block py-3 font-medium text-foreground\" onClick={() => setIsOpen(false)}>Seller Panel</Link>}\r\n              </>\r\n            )}\r\n            <div className=\"pt-4 border-t border-border\">\r\n              {user ? (\r\n                <button onClick={() => { handleLogout(); setIsOpen(false); }} className=\"w-full flex items-center justify-center gap-2 py-3 bg-destructive/10 text-destructive rounded-xl font-bold\">\r\n                  <LogOut size={20} /> Logout\r\n                </button>\r\n              ) : (\r\n                <div className=\"grid grid-cols-2 gap-3\">\r\n                  <Link href=\"/login\" className=\"py-3 text-center bg-secondary text-foreground rounded-xl font-bold\" onClick={() => setIsOpen(false)}>Login</Link>\r\n                  <Link href=\"/register\" className=\"py-3 text-center bg-primary text-primary-foreground rounded-xl font-bold\" onClick={() => setIsOpen(false)}>Sign Up</Link>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </nav>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 709, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaina/OneDrive/Documents/GitHub/Rentify/frontend/components/Footer.jsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { Facebook, Twitter, Instagram } from 'lucide-react';\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer className=\"bg-card border-t border-border\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n          <div className=\"space-y-4\">\r\n            <Link href=\"/\" className=\"flex items-center gap-2\">\r\n              <span className=\"text-xl font-bold tracking-tighter text-foreground\">LUXE<span className=\"text-emerald-500 dark:text-cyan-400\">RENT</span></span>\r\n            </Link>\r\n            <p className=\"text-muted-foreground text-sm leading-relaxed\">\r\n              Premium rental marketplace for the modern world. Rent verified high-end products with ease.\r\n            </p>\r\n            <div className=\"flex gap-4\">\r\n              <a href=\"#\" className=\"text-muted-foreground hover:text-foreground transition-colors\" aria-label=\"Instagram\"><Instagram size={20} /></a>\r\n              <a href=\"#\" className=\"text-muted-foreground hover:text-foreground transition-colors\" aria-label=\"Twitter\"><Twitter size={20} /></a>\r\n              <a href=\"#\" className=\"text-muted-foreground hover:text-foreground transition-colors\" aria-label=\"Facebook\"><Facebook size={20} /></a>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <h4 className=\"font-bold mb-4 text-foreground\">Marketplace</h4>\r\n            <ul className=\"space-y-2 text-sm text-muted-foreground\">\r\n              <li><Link href=\"/products\" className=\"hover:text-foreground transition-colors\">Browse All</Link></li>\r\n              <li><Link href=\"/products?category=Electronics\" className=\"hover:text-foreground transition-colors\">Electronics</Link></li>\r\n              <li><Link href=\"/products?category=Furniture\" className=\"hover:text-foreground transition-colors\">Furniture</Link></li>\r\n              <li><Link href=\"/products?category=Photography\" className=\"hover:text-foreground transition-colors\">Photography</Link></li>\r\n            </ul>\r\n          </div>\r\n          <div>\r\n            <h4 className=\"font-bold mb-4 text-foreground\">Support</h4>\r\n            <ul className=\"space-y-2 text-sm text-muted-foreground\">\r\n              <li><Link href=\"#\" className=\"hover:text-foreground transition-colors\">Help Center</Link></li>\r\n              <li><Link href=\"#\" className=\"hover:text-foreground transition-colors\">Rental Policies</Link></li>\r\n              <li><Link href=\"#\" className=\"hover:text-foreground transition-colors\">Safety Guidelines</Link></li>\r\n              <li><Link href=\"#\" className=\"hover:text-foreground transition-colors\">Contact Us</Link></li>\r\n            </ul>\r\n          </div>\r\n          <div>\r\n            <h4 className=\"font-bold mb-4 text-foreground\">Newsletter</h4>\r\n            <p className=\"text-sm text-muted-foreground mb-4\">Subscribe to get updates on new premium listings.</p>\r\n            <div className=\"flex gap-2\">\r\n              <input type=\"email\" placeholder=\"Email address\" aria-label=\"Newsletter email\" className=\"bg-input border border-border rounded-lg px-3 py-2 text-sm flex-1 focus:outline-none focus:ring-2 focus:ring-ring text-foreground placeholder:text-muted-foreground\" />\r\n              <button type=\"button\" className=\"bg-primary text-primary-foreground px-4 py-2 rounded-lg text-sm font-medium hover:opacity-90 transition-opacity\">Join</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"mt-12 pt-8 border-t border-border flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-muted-foreground\">\r\n          <p>© 2026 LuxeRent Marketplace. All rights reserved.</p>\r\n          <div className=\"flex gap-6\">\r\n            <Link href=\"#\" className=\"hover:text-foreground transition-colors\">Privacy Policy</Link>\r\n            <Link href=\"#\" className=\"hover:text-foreground transition-colors\">Terms of Service</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAHA;;;;AAKe,SAAS;IACtB,qBACE,0PAAC;QAAO,WAAU;kBAChB,cAAA,0PAAC;YAAI,WAAU;;8BACb,0PAAC;oBAAI,WAAU;;sCACb,0PAAC;4BAAI,WAAU;;8CACb,0PAAC,mLAAI;oCAAC,MAAK;oCAAI,WAAU;8CACvB,cAAA,0PAAC;wCAAK,WAAU;;4CAAqD;0DAAI,0PAAC;gDAAK,WAAU;0DAAsC;;;;;;;;;;;;;;;;;8CAEjI,0PAAC;oCAAE,WAAU;8CAAgD;;;;;;8CAG7D,0PAAC;oCAAI,WAAU;;sDACb,0PAAC;4CAAE,MAAK;4CAAI,WAAU;4CAAgE,cAAW;sDAAY,cAAA,0PAAC,qOAAS;gDAAC,MAAM;;;;;;;;;;;sDAC9H,0PAAC;4CAAE,MAAK;4CAAI,WAAU;4CAAgE,cAAW;sDAAU,cAAA,0PAAC,+NAAO;gDAAC,MAAM;;;;;;;;;;;sDAC1H,0PAAC;4CAAE,MAAK;4CAAI,WAAU;4CAAgE,cAAW;sDAAW,cAAA,0PAAC,kOAAQ;gDAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;sCAGhI,0PAAC;;8CACC,0PAAC;oCAAG,WAAU;8CAAiC;;;;;;8CAC/C,0PAAC;oCAAG,WAAU;;sDACZ,0PAAC;sDAAG,cAAA,0PAAC,mLAAI;gDAAC,MAAK;gDAAY,WAAU;0DAA0C;;;;;;;;;;;sDAC/E,0PAAC;sDAAG,cAAA,0PAAC,mLAAI;gDAAC,MAAK;gDAAiC,WAAU;0DAA0C;;;;;;;;;;;sDACpG,0PAAC;sDAAG,cAAA,0PAAC,mLAAI;gDAAC,MAAK;gDAA+B,WAAU;0DAA0C;;;;;;;;;;;sDAClG,0PAAC;sDAAG,cAAA,0PAAC,mLAAI;gDAAC,MAAK;gDAAiC,WAAU;0DAA0C;;;;;;;;;;;;;;;;;;;;;;;sCAGxG,0PAAC;;8CACC,0PAAC;oCAAG,WAAU;8CAAiC;;;;;;8CAC/C,0PAAC;oCAAG,WAAU;;sDACZ,0PAAC;sDAAG,cAAA,0PAAC,mLAAI;gDAAC,MAAK;gDAAI,WAAU;0DAA0C;;;;;;;;;;;sDACvE,0PAAC;sDAAG,cAAA,0PAAC,mLAAI;gDAAC,MAAK;gDAAI,WAAU;0DAA0C;;;;;;;;;;;sDACvE,0PAAC;sDAAG,cAAA,0PAAC,mLAAI;gDAAC,MAAK;gDAAI,WAAU;0DAA0C;;;;;;;;;;;sDACvE,0PAAC;sDAAG,cAAA,0PAAC,mLAAI;gDAAC,MAAK;gDAAI,WAAU;0DAA0C;;;;;;;;;;;;;;;;;;;;;;;sCAG3E,0PAAC;;8CACC,0PAAC;oCAAG,WAAU;8CAAiC;;;;;;8CAC/C,0PAAC;oCAAE,WAAU;8CAAqC;;;;;;8CAClD,0PAAC;oCAAI,WAAU;;sDACb,0PAAC;4CAAM,MAAK;4CAAQ,aAAY;4CAAgB,cAAW;4CAAmB,WAAU;;;;;;sDACxF,0PAAC;4CAAO,MAAK;4CAAS,WAAU;sDAAkH;;;;;;;;;;;;;;;;;;;;;;;;8BAIxJ,0PAAC;oBAAI,WAAU;;sCACb,0PAAC;sCAAE;;;;;;sCACH,0PAAC;4BAAI,WAAU;;8CACb,0PAAC,mLAAI;oCAAC,MAAK;oCAAI,WAAU;8CAA0C;;;;;;8CACnE,0PAAC,mLAAI;oCAAC,MAAK;oCAAI,WAAU;8CAA0C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM/E"}},
    {"offset": {"line": 1118, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaina/OneDrive/Documents/GitHub/Rentify/frontend/components/ProductCard.jsx"],"sourcesContent":["'use client';\r\n\r\nimport Image from 'next/image';\r\nimport Link from 'next/link';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Star, MapPin, Clock, ShoppingCart, Heart } from 'lucide-react';\r\nimport { motion } from 'framer-motion';\r\nimport { toast } from 'react-hot-toast';\r\nimport { addToCart } from '@/store/slices/cartSlice';\r\nimport { toggleWishlist } from '@/store/slices/wishlistSlice';\r\n\r\nfunction getAvailabilityBadge(product) {\r\n  const blocks = product?.availability || [];\r\n  if (!Array.isArray(blocks) || blocks.length === 0) {\r\n    return { label: 'Available today', tone: 'available' };\r\n  }\r\n  const today = new Date();\r\n  today.setHours(0, 0, 0, 0);\r\n  const todayTime = today.getTime();\r\n\r\n  let isBlockedToday = false;\r\n  let earliestFutureEnd = null;\r\n\r\n  for (const b of blocks) {\r\n    if (!b?.startDate || !b?.endDate) continue;\r\n    const start = new Date(b.startDate);\r\n    const end = new Date(b.endDate);\r\n    start.setHours(0, 0, 0, 0);\r\n    end.setHours(0, 0, 0, 0);\r\n    const s = start.getTime();\r\n    const e = end.getTime();\r\n    if (todayTime >= s && todayTime <= e) {\r\n      isBlockedToday = true;\r\n      if (!earliestFutureEnd || e < earliestFutureEnd) earliestFutureEnd = e;\r\n    } else if (e >= todayTime) {\r\n      if (!earliestFutureEnd || e < earliestFutureEnd) earliestFutureEnd = e;\r\n    }\r\n  }\r\n\r\n  if (!isBlockedToday) {\r\n    return { label: 'Available today', tone: 'available' };\r\n  }\r\n\r\n  if (earliestFutureEnd) {\r\n    const nextAvailable = new Date(earliestFutureEnd);\r\n    nextAvailable.setDate(nextAvailable.getDate() + 1);\r\n    const formatted = nextAvailable.toLocaleDateString(undefined, {\r\n      month: 'short',\r\n      day: 'numeric',\r\n    });\r\n    return { label: `Will be available ${formatted}`, tone: 'soon' };\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nexport default function ProductCard({ product }) {\r\n  const dispatch = useDispatch();\r\n  const inWishlist = useSelector((s) => s.wishlist.productIds.includes(product._id));\r\n  const currentUser = useSelector((s) => s.auth.user);\r\n  const sellerId = product.seller?._id ?? product.seller;\r\n  const sellerName = typeof product.seller === 'object' && product.seller?.name;\r\n  const sellerAvatar = typeof product.seller === 'object' && product.seller?.avatar;\r\n  const sellerLocation = typeof product.seller === 'object' && product.seller?.location;\r\n  const availabilityBadge = getAvailabilityBadge(product);\r\n\r\n  const cartProduct = {\r\n    _id: product._id,\r\n    title: product.title,\r\n    images: product.images || [],\r\n    pricePerDay: product.pricePerDay,\r\n    pricePerWeek: product.pricePerWeek,\r\n    pricePerMonth: product.pricePerMonth,\r\n    category: product.category,\r\n    seller: product.seller && (typeof product.seller === 'object' ? { _id: product.seller._id, name: product.seller.name, avatar: product.seller.avatar } : undefined),\r\n  };\r\n\r\n  const handleAddToCart = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const sellerIdForProduct = typeof product.seller === 'object' ? product.seller?._id : product.seller;\r\n\r\n    // Role-based cart restriction: sellers cannot rent their own listings.\r\n    if (currentUser?.role === 'seller' && currentUser.id && sellerIdForProduct && String(currentUser.id) === String(sellerIdForProduct)) {\r\n      toast.error(\"Sellers can't add their own listings to the cart.\");\r\n      return;\r\n    }\r\n    const start = new Date();\r\n    const end = new Date();\r\n    end.setDate(end.getDate() + 1);\r\n    dispatch(addToCart({\r\n      productId: product._id,\r\n      product: cartProduct,\r\n      startDate: start.toISOString().slice(0, 10),\r\n      endDate: end.toISOString().slice(0, 10),\r\n      duration: 'day',\r\n    }));\r\n    toast.success('Added to cart. Set dates in Cart.');\r\n  };\r\n\r\n  const handleWishlist = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    dispatch(toggleWishlist(product._id));\r\n    toast.success(inWishlist ? 'Removed from wishlist' : 'Added to wishlist');\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      whileHover={{ y: -4 }}\r\n      className=\"group bg-card rounded-3xl overflow-hidden border border-border hover:shadow-xl dark:hover:shadow-black/30 transition-all duration-300\"\r\n    >\r\n      <Link href={`/products/${product._id}`}>\r\n        <div className=\"relative aspect-[4/5] overflow-hidden bg-muted\">\r\n          <Image\r\n            src={product.images?.[0] || '/placeholder-avatar.svg'}\r\n            alt={product.title}\r\n            fill\r\n            className=\"object-cover transition-transform duration-700 group-hover:scale-110\"\r\n          />\r\n          <div className=\"absolute top-4 left-4 flex flex-col gap-2\">\r\n            <span className=\"px-3 py-1 bg-card/90 backdrop-blur-md rounded-full text-xs font-bold text-foreground shadow-sm\">\r\n              {product.category}\r\n            </span>\r\n            {availabilityBadge && (\r\n              <span\r\n                className={`px-3 py-1 rounded-full text-[10px] font-semibold shadow-sm ${\r\n                  availabilityBadge.tone === 'available'\r\n                    ? 'bg-emerald-600 dark:bg-cyan-600 text-white'\r\n                    : 'bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-200'\r\n                }`}\r\n              >\r\n                {availabilityBadge.label}\r\n              </span>\r\n            )}\r\n          </div>\r\n          <button\r\n            onClick={handleWishlist}\r\n            className=\"absolute top-4 right-4 p-2 rounded-full bg-card/90 backdrop-blur-md shadow-sm hover:bg-card\"\r\n          >\r\n            <Heart size={18} className={inWishlist ? 'fill-red-500 text-red-500' : 'text-muted-foreground'} />\r\n          </button>\r\n        </div>\r\n      </Link>\r\n\r\n      <div className=\"p-6\">\r\n        <div className=\"flex justify-between items-start mb-2\">\r\n          <Link href={`/products/${product._id}`}>\r\n            <h3 className=\"font-bold text-lg text-foreground line-clamp-1 group-hover:text-emerald-600 dark:group-hover:text-cyan-400 transition-colors\">\r\n              {product.title}\r\n            </h3>\r\n          </Link>\r\n          {(product.rating ?? product.averageRating) != null && (\r\n            <div className=\"flex items-center gap-1 text-amber-500\">\r\n              <Star size={14} fill=\"currentColor\" />\r\n              <span className=\"text-sm font-bold text-muted-foreground\">{(product.rating ?? product.averageRating).toFixed(1)}</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {sellerId && (\r\n          <Link\r\n            href={`/seller/${sellerId}`}\r\n            className=\"flex items-center gap-2 text-muted-foreground text-sm mb-4 hover:text-emerald-600 dark:hover:text-cyan-400 transition-colors group/seller\"\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            <div className=\"relative w-6 h-6 rounded-full overflow-hidden border border-border flex-shrink-0\">\r\n              <Image\r\n                src={sellerAvatar || '/placeholder-avatar.svg'}\r\n                alt={sellerName || 'Seller'}\r\n                width={24}\r\n                height={24}\r\n                className=\"object-cover group-hover/seller:ring-2 group-hover/seller:ring-emerald-500 dark:group-hover/seller:ring-cyan-500 rounded-full\"\r\n              />\r\n            </div>\r\n            <span className=\"font-medium text-muted-foreground group-hover/seller:text-emerald-600 dark:group-hover/seller:text-cyan-400 truncate\">{sellerName || 'Seller'}</span>\r\n            {sellerLocation && (\r\n              <>\r\n                <span className=\"text-muted-foreground/60\">·</span>\r\n                <span className=\"flex items-center gap-0.5\"><MapPin size={12} /> {sellerLocation}</span>\r\n              </>\r\n            )}\r\n          </Link>\r\n        )}\r\n        {!sellerId && (\r\n          <div className=\"flex items-center gap-4 text-muted-foreground text-sm mb-4\">\r\n            <div className=\"flex items-center gap-1\">\r\n              <MapPin size={14} />\r\n              <span>{product.seller?.location || '—'}</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-1\">\r\n              <Clock size={14} />\r\n              <span>Verified</span>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"flex items-center justify-between pt-4 border-t border-border gap-2\">\r\n          <div>\r\n            <span className=\"text-2xl font-black text-foreground\">${product.pricePerDay}</span>\r\n            <span className=\"text-muted-foreground text-sm\"> / day</span>\r\n          </div>\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              onClick={handleAddToCart}\r\n              className=\"p-2 rounded-xl border border-border hover:bg-accent\"\r\n              title=\"Add to cart\"\r\n            >\r\n              <ShoppingCart size={18} className=\"text-muted-foreground\" />\r\n            </button>\r\n            <Link\r\n              href={`/products/${product._id}`}\r\n              className=\"px-4 py-2 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-cyan-400 rounded-xl text-sm font-bold hover:bg-emerald-600 dark:hover:bg-cyan-600 hover:text-white transition-all\"\r\n            >\r\n              Rent Now\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1578, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaina/OneDrive/Documents/GitHub/Rentify/frontend/app/products/%5Bid%5D/page.jsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useParams, useRouter } from 'next/navigation';\nimport Navbar from '@/components/Navbar';\nimport Footer from '@/components/Footer';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addToCart } from '@/store/slices/cartSlice';\nimport { addViewed } from '@/store/slices/recentlyViewedSlice';\nimport ProductCard from '@/components/ProductCard';\nimport { toggleWishlist } from '@/store/slices/wishlistSlice';\nimport { toast } from 'react-hot-toast';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Calendar, MapPin, Star, Loader2, ChevronLeft, ChevronRight, ShoppingCart, Heart } from 'lucide-react';\nimport Image from 'next/image';\nimport Link from 'next/link';\n\nexport default function ProductDetailsPage() {\n  const params = useParams();\n  const id = params?.id;\n  const router = useRouter();\n  const dispatch = useDispatch();\n  const { user } = useSelector((state) => state.auth);\n  const inWishlist = id ? useSelector((s) => s.wishlist.productIds.includes(id)) : false;\n  const recentIds = useSelector((s) => s.recentlyViewed.productIds).filter((pid) => pid !== id);\n  const [recentProducts, setRecentProducts] = useState([]);\n\n  const [product, setProduct] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [bookingLoading, setBookingLoading] = useState(false);\n  const [galleryIndex, setGalleryIndex] = useState(0);\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState('');\n  const [addToCartDuration, setAddToCartDuration] = useState('day');\n  const [similarItems, setSimilarItems] = useState([]);\n\n  useEffect(() => {\n    const fetchProduct = async () => {\n      try {\n        const res = await axios.get(`/api/products/${id}`);\n        setProduct(res.data.product);\n        if (id) dispatch(addViewed(id));\n      } catch (err) {\n        toast.error('Failed to load product');\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (id) fetchProduct();\n  }, [id, dispatch]);\n\n  useEffect(() => {\n    if (recentIds.length === 0) return;\n    axios.get('/api/products?approved=true').then((res) => {\n      const all = res.data.products || [];\n      setRecentProducts(all.filter((p) => recentIds.includes(p._id)).slice(0, 4));\n    });\n  }, [recentIds.join(',')]);\n\n  // AI-powered similar items (Python recommendation service via /api/ai/similar)\n  useEffect(() => {\n    if (!id) return;\n    axios\n      .get(`/api/ai/similar?itemId=${id}`)\n      .then((res) => {\n        const items = res.data?.similarItems || [];\n        setSimilarItems(items);\n      })\n      .catch(() => {\n        // Silent fail – we don't want to break the product page if AI is down.\n      });\n  }, [id]);\n\n  const handleBooking = async () => {\n    if (!user) {\n      toast.error('Please login to rent');\n      return router.push('/login');\n    }\n    if (!startDate || !endDate) return toast.error('Please select dates');\n    setBookingLoading(true);\n    try {\n      const days = Math.ceil((new Date(endDate).getTime() - new Date(startDate).getTime()) / (1000 * 60 * 60 * 24));\n      if (days <= 0) return toast.error('Invalid dates');\n      const totalAmount = days * product.pricePerDay;\n      const res = await axios.post('/api/rentals', {\n        productId: product._id,\n        startDate,\n        endDate,\n        totalAmount,\n      });\n      const checkoutRes = await axios.post('/api/rentals/checkout', {\n        rentalId: res.data.rental._id,\n        totalAmount,\n      });\n      if (checkoutRes.data.url) window.location.href = checkoutRes.data.url;\n    } catch (err) {\n      toast.error(err.response?.data?.message || 'Booking failed');\n    } finally {\n      setBookingLoading(false);\n    }\n  };\n\n  const handleAddToCart = () => {\n    const start = new Date();\n    const end = new Date();\n    end.setDate(end.getDate() + (addToCartDuration === 'day' ? 1 : addToCartDuration === 'week' ? 7 : 30));\n    const cartProduct = {\n      _id: product._id,\n      title: product.title,\n      images: product.images || [],\n      pricePerDay: product.pricePerDay,\n      pricePerWeek: product.pricePerWeek,\n      pricePerMonth: product.pricePerMonth,\n      category: product.category,\n      seller: product.seller && { _id: product.seller._id, name: product.seller.name, avatar: product.seller.avatar },\n    };\n    dispatch(addToCart({\n      productId: product._id,\n      product: cartProduct,\n      startDate: start.toISOString().slice(0, 10),\n      endDate: end.toISOString().slice(0, 10),\n      duration: addToCartDuration,\n    }));\n    toast.success('Added to cart');\n  };\n\n  if (loading) return <div className=\"min-h-screen flex items-center justify-center bg-background\"><Loader2 className=\"animate-spin text-emerald-600 dark:text-cyan-400\" size={48} /></div>;\n  if (!product) return <div className=\"min-h-screen flex items-center justify-center text-xl font-bold bg-background text-foreground\">Product not found</div>;\n\n  const images = product.images?.length ? product.images : ['https://via.placeholder.com/800'];\n  const availability = product.availability || [];\n\n  return (\n    <main className=\"min-h-screen bg-background\">\n      <Navbar />\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-32 pb-20\">\n        <div className=\"grid lg:grid-cols-2 gap-16\">\n          {/* Gallery carousel */}\n          <motion.div initial={{ opacity: 0, x: -20 }} animate={{ opacity: 1, x: 0 }} className=\"space-y-4\">\n            <div className=\"relative aspect-square rounded-[40px] overflow-hidden shadow-2xl dark:shadow-black/30 bg-muted\">\n              <AnimatePresence mode=\"wait\">\n                <motion.div\n                  key={galleryIndex}\n                  initial={{ opacity: 0 }}\n                  animate={{ opacity: 1 }}\n                  exit={{ opacity: 0 }}\n                  className=\"absolute inset-0\"\n                >\n                  <Image src={images[galleryIndex]} alt={product.title} fill className=\"object-cover\" sizes=\"(max-width: 1024px) 100vw, 50vw\" />\n                </motion.div>\n              </AnimatePresence>\n              {images.length > 1 && (\n                <>\n                  <button\n                    onClick={() => setGalleryIndex((i) => (i - 1 + images.length) % images.length)}\n                    className=\"absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-card/90 backdrop-blur shadow-lg flex items-center justify-center hover:bg-card text-foreground\"\n                  >\n                    <ChevronLeft size={24} />\n                  </button>\n                  <button\n                    onClick={() => setGalleryIndex((i) => (i + 1) % images.length)}\n                    className=\"absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-card/90 backdrop-blur shadow-lg flex items-center justify-center hover:bg-card text-foreground\"\n                  >\n                    <ChevronRight size={24} />\n                  </button>\n                </>\n              )}\n            </div>\n            <div className=\"grid grid-cols-4 gap-2\">\n              {images.map((img, i) => (\n                <button\n                  key={i}\n                  onClick={() => setGalleryIndex(i)}\n                  className={`relative aspect-square rounded-2xl overflow-hidden border-2 transition-all ${galleryIndex === i ? 'border-emerald-500 dark:border-cyan-500 ring-2 ring-emerald-200 dark:ring-cyan-500/30' : 'border-border'}`}\n                >\n                  <Image src={img} alt=\"\" fill className=\"object-cover\" />\n                </button>\n              ))}\n            </div>\n          </motion.div>\n\n          <motion.div initial={{ opacity: 0, x: 20 }} animate={{ opacity: 1, x: 0 }}>\n            <div className=\"mb-6 flex items-center gap-2\">\n              <span className=\"px-4 py-1.5 bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-400 rounded-full text-sm font-bold\">{product.category}</span>\n              <button\n                onClick={() => { dispatch(toggleWishlist(product._id)); toast.success(inWishlist ? 'Removed from wishlist' : 'Added to wishlist'); }}\n                className=\"p-2 rounded-full border border-border hover:bg-muted\"\n              >\n                <Heart size={20} className={inWishlist ? 'fill-red-500 text-red-500' : 'text-muted-foreground'} />\n              </button>\n            </div>\n            <h1 className=\"text-4xl font-black tracking-tighter text-foreground mb-4\">{product.title}</h1>\n            <div className=\"flex items-center gap-6 text-muted-foreground mb-6\">\n              <span className=\"flex items-center gap-1 text-amber-500\"><Star size={18} fill=\"currentColor\" /> <span className=\"text-foreground font-bold\">4.9</span> <span className=\"text-sm\">(24 reviews)</span></span>\n              {product.seller?.location && <span className=\"flex items-center gap-1\"><MapPin size={18} /> {product.seller.location}</span>}\n            </div>\n            <p className=\"text-muted-foreground text-lg leading-relaxed mb-8\">{product.description}</p>\n\n            {/* Seller block */}\n            <Link href={`/seller/${product.seller?._id}`} className=\"flex items-center justify-between p-6 bg-muted/50 rounded-3xl mb-8 border border-border hover:border-emerald-500/50 dark:hover:border-cyan-500/50 transition-all group\">\n              <div className=\"flex items-center gap-4\">\n                <div className=\"relative w-14 h-14 rounded-full overflow-hidden border-2 border-border shadow-md\">\n                  <Image src={product.seller?.avatar || 'https://via.placeholder.com/150'} alt={product.seller?.name} fill className=\"object-cover\" />\n                </div>\n                <div>\n                  <h4 className=\"font-bold text-foreground group-hover:text-emerald-600 dark:group-hover:text-cyan-400\">{product.seller?.name}</h4>\n                  <p className=\"text-xs text-muted-foreground\">Member since {new Date(product.seller?.joinedAt).getFullYear()}</p>\n                </div>\n              </div>\n              <span className=\"px-4 py-2 bg-card rounded-xl text-xs font-bold shadow-sm text-foreground\">View Shop</span>\n            </Link>\n\n            {/* Pricing by duration */}\n            <div className=\"flex gap-3 mb-6\">\n              {[\n                { key: 'day', label: 'Per day', value: product.pricePerDay },\n                { key: 'week', label: 'Per week', value: product.pricePerWeek },\n                { key: 'month', label: 'Per month', value: product.pricePerMonth },\n              ].filter((d) => d.value != null).map((d) => (\n                <div key={d.key} className=\"flex-1 p-4 rounded-2xl bg-muted/50 border border-border\">\n                  <p className=\"text-xs font-bold text-muted-foreground uppercase\">{d.label}</p>\n                  <p className=\"text-xl font-black text-foreground\">${d.value}</p>\n                </div>\n              ))}\n            </div>\n\n            {/* Availability */}\n            {availability.length > 0 && (\n              <div className=\"mb-8 p-4 rounded-2xl bg-amber-50/80 dark:bg-amber-900/20 border border-amber-100 dark:border-amber-800\">\n                <p className=\"text-sm font-bold text-amber-800 dark:text-amber-200 mb-2 flex items-center gap-2\"><Calendar size={16} /> Blocked dates</p>\n                <ul className=\"text-sm text-amber-700 dark:text-amber-300 space-y-1\">\n                  {availability.slice(0, 5).map((b, i) => (\n                    <li key={i}>\n                      {new Date(b.startDate).toLocaleDateString()} – {new Date(b.endDate).toLocaleDateString()}\n                    </li>\n                  ))}\n                  {availability.length > 5 && <li>+{availability.length - 5} more</li>}\n                </ul>\n              </div>\n            )}\n\n            {/* Booking card */}\n            <div className=\"bg-primary text-primary-foreground p-8 rounded-[40px] shadow-2xl shadow-emerald-900/20 dark:shadow-black/40 relative overflow-hidden\">\n              <div className=\"absolute top-0 right-0 w-32 h-32 bg-emerald-500/20 blur-3xl rounded-full -mr-16 -mt-16\" />\n              <div className=\"flex justify-between items-end mb-6 relative z-10\">\n                <div>\n                  <span className=\"text-4xl font-black\">${product.pricePerDay}</span>\n                  <span className=\"text-gray-400\"> / day</span>\n                </div>\n              </div>\n              <div className=\"grid grid-cols-2 gap-4 mb-6 relative z-10\">\n                <div className=\"space-y-1\">\n                  <label className=\"text-xs font-bold text-gray-400 uppercase\">Start</label>\n                  <input type=\"date\" value={startDate} onChange={(e) => setStartDate(e.target.value)} className=\"w-full bg-white/10 border border-white/20 rounded-2xl px-4 py-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none\" />\n                </div>\n                <div className=\"space-y-1\">\n                  <label className=\"text-xs font-bold text-gray-400 uppercase\">End</label>\n                  <input type=\"date\" value={endDate} onChange={(e) => setEndDate(e.target.value)} className=\"w-full bg-white/10 border border-white/20 rounded-2xl px-4 py-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none\" />\n                </div>\n              </div>\n              <button onClick={handleBooking} disabled={bookingLoading} className=\"w-full py-4 bg-emerald-600 dark:bg-cyan-600 text-white rounded-2xl font-black hover:bg-emerald-500 dark:hover:bg-cyan-500 flex items-center justify-center gap-2 mb-4\">\n                {bookingLoading ? <Loader2 className=\"animate-spin\" /> : 'Rent Now'}\n              </button>\n\n              <div className=\"flex gap-2 relative z-10\">\n                <select value={addToCartDuration} onChange={(e) => setAddToCartDuration(e.target.value)} className=\"flex-1 bg-white/10 border border-white/20 rounded-2xl px-4 py-3 text-sm outline-none\">\n                  <option value=\"day\">1 day</option>\n                  <option value=\"week\">1 week</option>\n                  <option value=\"month\">1 month</option>\n                </select>\n                <button onClick={handleAddToCart} className=\"flex-1 py-3 rounded-2xl border border-white/30 font-bold flex items-center justify-center gap-2 hover:bg-white/10\">\n                  <ShoppingCart size={18} /> Add to Cart\n                </button>\n              </div>\n              <p className=\"text-center text-[10px] text-primary-foreground/70 mt-4 uppercase tracking-widest font-bold\">Secure checkout with Stripe</p>\n            </div>\n          </motion.div>\n        </div>\n\n        {recentProducts.length > 0 && (\n          <section className=\"mt-20 pt-16 border-t border-border\">\n            <h2 className=\"text-xl font-black mb-6 text-foreground\">You may also like</h2>\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n              {recentProducts.map((p) => (\n                <ProductCard key={p._id} product={p} />\n              ))}\n            </div>\n          </section>\n        )}\n\n        {similarItems.length > 0 && (\n          <section className=\"mt-16 pt-12 border-t border-border\">\n            <h2 className=\"text-xl font-black mb-6 text-foreground\">Similar items powered by AI</h2>\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n              {similarItems.map((item) => (\n                <ProductCard\n                  key={item._id}\n                  product={{\n                    _id: item._id,\n                    title: item.title,\n                    images: item.image ? [item.image] : [],\n                    pricePerDay: item.price,\n                    category: item.category || product.category,\n                  }}\n                />\n              ))}\n            </div>\n          </section>\n        )}\n      </div>\n\n      <Footer />\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}