{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/aryan/OneDrive/Documents/GitHub/Rentify/frontend/components/Navbar.jsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { logout } from '@/store/slices/authSlice';\r\nimport { clearCart } from '@/store/slices/cartSlice';\r\nimport { ShoppingCart, LogOut, Menu, X, Calendar, Heart, CreditCard } from 'lucide-react';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport Image from 'next/image';\r\n\r\nexport default function Navbar() {\r\n  const dispatch = useDispatch();\r\n  const { user } = useSelector((state) => state.auth);\r\n  const cartCount = useSelector((state) => state.cart.items.length);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [profileOpen, setProfileOpen] = useState(false);\r\n  const [scrolled, setScrolled] = useState(false);\r\n  const profileRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => setScrolled(window.scrollY > 20);\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (e) => {\r\n      if (profileRef.current && !profileRef.current.contains(e.target)) setProfileOpen(false);\r\n    };\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    dispatch(logout());\r\n    dispatch(clearCart());\r\n    setProfileOpen(false);\r\n  };\r\n\r\n  const profileLinks = [\r\n    { href: '/dashboard', label: 'My Rentals', icon: <Calendar size={18} /> },\r\n    { href: '/dashboard', label: 'Order History', icon: <Calendar size={18} /> },\r\n    { href: '/wishlist', label: 'Wishlist', icon: <Heart size={18} /> },\r\n    { href: '/cart', label: 'Cart', icon: <ShoppingCart size={18} /> },\r\n    { href: '/profile', label: 'Profile & Payments', icon: <CreditCard size={18} /> },\r\n  ];\r\n\r\n  return (\r\n    <nav className={`fixed w-full z-50 transition-all duration-300 ${scrolled ? 'bg-white/80 backdrop-blur-lg shadow-sm py-3' : 'bg-transparent py-5'}`}>\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"flex justify-between items-center\">\r\n          <Link href=\"/\" className=\"flex items-center gap-2\">\r\n            <span className=\"text-2xl font-bold tracking-tighter text-black\">LUXE<span className=\"text-emerald-600\">RENT</span></span>\r\n          </Link>\r\n          <div className=\"hidden md:flex items-center gap-8\">\r\n            <Link href=\"/products\" className=\"text-gray-600 hover:text-black font-medium transition-colors\">Browse</Link>\r\n            {user?.role === 'renter' && <Link href=\"/discover\" className=\"text-gray-600 hover:text-black font-medium transition-colors\">Discover</Link>}\r\n            {user?.role === 'seller' && <Link href=\"/seller/dashboard\" className=\"text-gray-600 hover:text-black font-medium transition-colors\">Seller Panel</Link>}\r\n            {user?.role === 'admin' && <Link href=\"/admin\" className=\"text-gray-600 hover:text-black font-medium transition-colors\">Admin</Link>}\r\n          </div>\r\n          <div className=\"hidden md:flex items-center gap-3\">\r\n            {user ? (\r\n              <>\r\n                <Link href=\"/cart\" className=\"relative p-2 rounded-full hover:bg-gray-100 transition-colors\">\r\n                  <ShoppingCart size={22} className=\"text-gray-600\" />\r\n                  {cartCount > 0 && (\r\n                    <span className=\"absolute -top-0.5 -right-0.5 w-5 h-5 rounded-full bg-emerald-500 text-white text-xs font-bold flex items-center justify-center\">\r\n                      {cartCount > 9 ? '9+' : cartCount}\r\n                    </span>\r\n                  )}\r\n                </Link>\r\n                <div className=\"relative\" ref={profileRef}>\r\n                  <button onClick={() => setProfileOpen(!profileOpen)} className=\"flex items-center gap-2 px-2 py-1.5 rounded-full hover:bg-gray-100 transition-all\">\r\n                    {user?.avatar || user?.image ? (\r\n                      <div className=\"relative w-9 h-9 rounded-full overflow-hidden\">\r\n                        <Image src={user.avatar || user.image} alt={user.name} fill className=\"object-cover\" />\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"w-9 h-9 rounded-full bg-emerald-100 text-emerald-700 flex items-center justify-center font-bold\">\r\n                        {user?.name?.charAt(0)?.toUpperCase() || 'U'}\r\n                      </div>\r\n                    )}\r\n                    <span className=\"font-medium text-sm text-gray-700 max-w-[100px] truncate\">{user.name}</span>\r\n                  </button>\r\n                  <AnimatePresence>\r\n                    {profileOpen && (\r\n                      <motion.div initial={{ opacity: 0, y: -8 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -8 }} transition={{ duration: 0.15 }} className=\"absolute right-0 mt-2 w-56 bg-white rounded-2xl border border-gray-100 shadow-xl py-2 overflow-hidden\">\r\n                        {profileLinks.map((link) => (\r\n                          <Link key={link.label} href={link.href} onClick={() => setProfileOpen(false)} className=\"flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gray-50 font-medium text-sm\">\r\n                            {link.icon}\r\n                            {link.label}\r\n                          </Link>\r\n                        ))}\r\n                        <button onClick={handleLogout} className=\"w-full flex items-center gap-3 px-4 py-3 text-red-600 hover:bg-red-50 font-medium text-sm\">\r\n                          <LogOut size={18} /> Logout\r\n                        </button>\r\n                      </motion.div>\r\n                    )}\r\n                  </AnimatePresence>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <div className=\"flex items-center gap-3\">\r\n                <Link href=\"/login\" className=\"px-5 py-2 text-gray-600 font-medium hover:text-black transition-colors\">Login</Link>\r\n                <Link href=\"/register\" className=\"px-6 py-2 bg-black text-white rounded-full font-medium hover:bg-gray-800 transition-all shadow-lg hover:shadow-black/20\">Sign Up</Link>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"md:hidden flex items-center gap-2\">\r\n            <Link href=\"/cart\" className=\"relative p-2\">\r\n              <ShoppingCart size={22} className=\"text-gray-600\" />\r\n              {cartCount > 0 && (\r\n                <span className=\"absolute top-0 right-0 w-4 h-4 rounded-full bg-emerald-500 text-white text-[10px] font-bold flex items-center justify-center\">\r\n                  {cartCount > 9 ? '9+' : cartCount}\r\n                </span>\r\n              )}\r\n            </Link>\r\n            <button onClick={() => setIsOpen(!isOpen)}>{isOpen ? <X size={24} /> : <Menu size={24} />}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <AnimatePresence>\r\n        {isOpen && (\r\n          <motion.div initial={{ opacity: 0, y: -20 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -20 }} className=\"md:hidden bg-white border-t p-4 space-y-2 shadow-xl\">\r\n            <Link href=\"/products\" className=\"block py-3 font-medium text-gray-600\" onClick={() => setIsOpen(false)}>Browse Rentals</Link>\r\n            <Link href=\"/discover\" className=\"block py-3 font-medium text-gray-600\" onClick={() => setIsOpen(false)}>Discover</Link>\r\n            <Link href=\"/cart\" className=\"block py-3 font-medium text-gray-600\" onClick={() => setIsOpen(false)}>Cart {cartCount > 0 && `(${cartCount})`}</Link>\r\n            {user && (\r\n              <>\r\n                <Link href=\"/dashboard\" className=\"block py-3 font-medium text-gray-600\" onClick={() => setIsOpen(false)}>My Rentals</Link>\r\n                <Link href=\"/wishlist\" className=\"block py-3 font-medium text-gray-600\" onClick={() => setIsOpen(false)}>Wishlist</Link>\r\n                <Link href=\"/profile\" className=\"block py-3 font-medium text-gray-600\" onClick={() => setIsOpen(false)}>Profile</Link>\r\n                {user.role === 'seller' && <Link href=\"/seller/dashboard\" className=\"block py-3 font-medium text-gray-600\" onClick={() => setIsOpen(false)}>Seller Panel</Link>}\r\n              </>\r\n            )}\r\n            <div className=\"pt-4 border-t\">\r\n              {user ? (\r\n                <button onClick={() => { handleLogout(); setIsOpen(false); }} className=\"w-full flex items-center justify-center gap-2 py-3 bg-red-50 text-red-600 rounded-xl font-bold\">\r\n                  <LogOut size={20} /> Logout\r\n                </button>\r\n              ) : (\r\n                <div className=\"grid grid-cols-2 gap-3\">\r\n                  <Link href=\"/login\" className=\"py-3 text-center bg-gray-100 rounded-xl font-bold\" onClick={() => setIsOpen(false)}>Login</Link>\r\n                  <Link href=\"/register\" className=\"py-3 text-center bg-black text-white rounded-xl font-bold\" onClick={() => setIsOpen(false)}>Sign Up</Link>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </nav>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 608, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/aryan/OneDrive/Documents/GitHub/Rentify/frontend/components/Footer.jsx"],"sourcesContent":["import Link from 'next/link';\r\nimport { Facebook, Twitter, Instagram } from 'lucide-react';\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer className=\"bg-white border-t border-gray-100\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n          <div className=\"space-y-4\">\r\n            <Link href=\"/\" className=\"flex items-center gap-2\">\r\n              <span className=\"text-xl font-bold tracking-tighter text-black\">LUXE<span className=\"text-emerald-600\">RENT</span></span>\r\n            </Link>\r\n            <p className=\"text-gray-500 text-sm leading-relaxed\">\r\n              Premium rental marketplace for the modern world. Rent verified high-end products with ease.\r\n            </p>\r\n            <div className=\"flex gap-4\">\r\n              <a href=\"#\" className=\"text-gray-400 hover:text-black transition-colors\"><Instagram size={20} /></a>\r\n              <a href=\"#\" className=\"text-gray-400 hover:text-black transition-colors\"><Twitter size={20} /></a>\r\n              <a href=\"#\" className=\"text-gray-400 hover:text-black transition-colors\"><Facebook size={20} /></a>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <h4 className=\"font-bold mb-4\">Marketplace</h4>\r\n            <ul className=\"space-y-2 text-sm text-gray-500\">\r\n              <li><Link href=\"/products\" className=\"hover:text-black\">Browse All</Link></li>\r\n              <li><Link href=\"/products?category=Electronics\" className=\"hover:text-black\">Electronics</Link></li>\r\n              <li><Link href=\"/products?category=Furniture\" className=\"hover:text-black\">Furniture</Link></li>\r\n              <li><Link href=\"/products?category=Photography\" className=\"hover:text-black\">Photography</Link></li>\r\n            </ul>\r\n          </div>\r\n          <div>\r\n            <h4 className=\"font-bold mb-4\">Support</h4>\r\n            <ul className=\"space-y-2 text-sm text-gray-500\">\r\n              <li><Link href=\"#\" className=\"hover:text-black\">Help Center</Link></li>\r\n              <li><Link href=\"#\" className=\"hover:text-black\">Rental Policies</Link></li>\r\n              <li><Link href=\"#\" className=\"hover:text-black\">Safety Guidelines</Link></li>\r\n              <li><Link href=\"#\" className=\"hover:text-black\">Contact Us</Link></li>\r\n            </ul>\r\n          </div>\r\n          <div>\r\n            <h4 className=\"font-bold mb-4\">Newsletter</h4>\r\n            <p className=\"text-sm text-gray-500 mb-4\">Subscribe to get updates on new premium listings.</p>\r\n            <div className=\"flex gap-2\">\r\n              <input type=\"email\" placeholder=\"Email address\" className=\"bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 text-sm flex-1 focus:outline-none focus:ring-1 focus:ring-emerald-500\" />\r\n              <button className=\"bg-black text-white px-4 py-2 rounded-lg text-sm font-medium\">Join</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"mt-12 pt-8 border-t border-gray-100 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-gray-400\">\r\n          <p>Â© 2026 LuxeRent Marketplace. All rights reserved.</p>\r\n          <div className=\"flex gap-6\">\r\n            <Link href=\"#\" className=\"hover:text-black transition-colors\">Privacy Policy</Link>\r\n            <Link href=\"#\" className=\"hover:text-black transition-colors\">Terms of Service</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AAAA;;;;AAEe,SAAS;IACtB,qBACE,0PAAC;QAAO,WAAU;kBAChB,cAAA,0PAAC;YAAI,WAAU;;8BACb,0PAAC;oBAAI,WAAU;;sCACb,0PAAC;4BAAI,WAAU;;8CACb,0PAAC,mLAAI;oCAAC,MAAK;oCAAI,WAAU;8CACvB,cAAA,0PAAC;wCAAK,WAAU;;4CAAgD;0DAAI,0PAAC;gDAAK,WAAU;0DAAmB;;;;;;;;;;;;;;;;;8CAEzG,0PAAC;oCAAE,WAAU;8CAAwC;;;;;;8CAGrD,0PAAC;oCAAI,WAAU;;sDACb,0PAAC;4CAAE,MAAK;4CAAI,WAAU;sDAAmD,cAAA,0PAAC,qOAAS;gDAAC,MAAM;;;;;;;;;;;sDAC1F,0PAAC;4CAAE,MAAK;4CAAI,WAAU;sDAAmD,cAAA,0PAAC,+NAAO;gDAAC,MAAM;;;;;;;;;;;sDACxF,0PAAC;4CAAE,MAAK;4CAAI,WAAU;sDAAmD,cAAA,0PAAC,kOAAQ;gDAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;sCAG7F,0PAAC;;8CACC,0PAAC;oCAAG,WAAU;8CAAiB;;;;;;8CAC/B,0PAAC;oCAAG,WAAU;;sDACZ,0PAAC;sDAAG,cAAA,0PAAC,mLAAI;gDAAC,MAAK;gDAAY,WAAU;0DAAmB;;;;;;;;;;;sDACxD,0PAAC;sDAAG,cAAA,0PAAC,mLAAI;gDAAC,MAAK;gDAAiC,WAAU;0DAAmB;;;;;;;;;;;sDAC7E,0PAAC;sDAAG,cAAA,0PAAC,mLAAI;gDAAC,MAAK;gDAA+B,WAAU;0DAAmB;;;;;;;;;;;sDAC3E,0PAAC;sDAAG,cAAA,0PAAC,mLAAI;gDAAC,MAAK;gDAAiC,WAAU;0DAAmB;;;;;;;;;;;;;;;;;;;;;;;sCAGjF,0PAAC;;8CACC,0PAAC;oCAAG,WAAU;8CAAiB;;;;;;8CAC/B,0PAAC;oCAAG,WAAU;;sDACZ,0PAAC;sDAAG,cAAA,0PAAC,mLAAI;gDAAC,MAAK;gDAAI,WAAU;0DAAmB;;;;;;;;;;;sDAChD,0PAAC;sDAAG,cAAA,0PAAC,mLAAI;gDAAC,MAAK;gDAAI,WAAU;0DAAmB;;;;;;;;;;;sDAChD,0PAAC;sDAAG,cAAA,0PAAC,mLAAI;gDAAC,MAAK;gDAAI,WAAU;0DAAmB;;;;;;;;;;;sDAChD,0PAAC;sDAAG,cAAA,0PAAC,mLAAI;gDAAC,MAAK;gDAAI,WAAU;0DAAmB;;;;;;;;;;;;;;;;;;;;;;;sCAGpD,0PAAC;;8CACC,0PAAC;oCAAG,WAAU;8CAAiB;;;;;;8CAC/B,0PAAC;oCAAE,WAAU;8CAA6B;;;;;;8CAC1C,0PAAC;oCAAI,WAAU;;sDACb,0PAAC;4CAAM,MAAK;4CAAQ,aAAY;4CAAgB,WAAU;;;;;;sDAC1D,0PAAC;4CAAO,WAAU;sDAA+D;;;;;;;;;;;;;;;;;;;;;;;;8BAIvF,0PAAC;oBAAI,WAAU;;sCACb,0PAAC;sCAAE;;;;;;sCACH,0PAAC;4BAAI,WAAU;;8CACb,0PAAC,mLAAI;oCAAC,MAAK;oCAAI,WAAU;8CAAqC;;;;;;8CAC9D,0PAAC,mLAAI;oCAAC,MAAK;oCAAI,WAAU;8CAAqC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM1E"}},
    {"offset": {"line": 1029, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/aryan/OneDrive/Documents/GitHub/Rentify/frontend/app/cart/page.jsx"],"sourcesContent":["'use client';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { removeFromCart, updateCartItemDates, clearCart } from '@/store/slices/cartSlice';\r\nimport Navbar from '@/components/Navbar';\r\nimport Footer from '@/components/Footer';\r\nimport { useRouter } from 'next/navigation';\r\nimport { motion } from 'framer-motion';\r\nimport { ShoppingCart, Trash2, Loader2 } from 'lucide-react';\r\nimport Image from 'next/image';\r\nimport Link from 'next/link';\r\nimport { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-hot-toast';\r\n\r\nfunction getTotalForItem(item) {\r\n  const start = new Date(item.startDate).getTime();\r\n  const end = new Date(item.endDate).getTime();\r\n  const days = Math.max(1, Math.ceil((end - start) / (1000 * 60 * 60 * 24)));\r\n  if (item.duration === 'week') {\r\n    const weeks = Math.ceil(days / 7);\r\n    return weeks * (item.product.pricePerWeek ?? item.product.pricePerDay * 7);\r\n  }\r\n  if (item.duration === 'month') {\r\n    const months = Math.ceil(days / 30);\r\n    return months * (item.product.pricePerMonth ?? item.product.pricePerDay * 30);\r\n  }\r\n  return days * item.product.pricePerDay;\r\n}\r\n\r\nexport default function CartPage() {\r\n  const dispatch = useDispatch();\r\n  const router = useRouter();\r\n  const { user } = useSelector((state) => state.auth);\r\n  const { items } = useSelector((state) => state.cart);\r\n  const [checkingOut, setCheckingOut] = useState(false);\r\n\r\n  const subtotal = items.reduce((sum, it) => sum + getTotalForItem(it), 0);\r\n\r\n  const handleCheckout = async () => {\r\n    if (!user) {\r\n      toast.error('Please login to checkout');\r\n      return router.push('/login');\r\n    }\r\n    if (items.length === 0) {\r\n      toast.error('Cart is empty');\r\n      return;\r\n    }\r\n    setCheckingOut(true);\r\n    try {\r\n      const payload = items.map((it) => ({\r\n        productId: it.productId,\r\n        startDate: it.startDate,\r\n        endDate: it.endDate,\r\n        totalAmount: getTotalForItem(it),\r\n      }));\r\n      const res = await axios.post('/api/rentals/checkout-cart', { items: payload });\r\n      if (res.data.url) {\r\n        dispatch(clearCart());\r\n        window.location.href = res.data.url;\r\n      }\r\n    } catch (err) {\r\n      toast.error(err.response?.data?.message || 'Checkout failed');\r\n    } finally {\r\n      setCheckingOut(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-gray-50\">\r\n      <Navbar />\r\n\r\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-28 pb-20\">\r\n        <h1 className=\"text-3xl font-black tracking-tighter text-black mb-8 flex items-center gap-2\">\r\n          <ShoppingCart size={32} /> Cart ({items.length})\r\n        </h1>\r\n\r\n        {items.length === 0 ? (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            className=\"py-24 text-center bg-white rounded-3xl border border-dashed border-gray-200\"\r\n          >\r\n            <ShoppingCart className=\"mx-auto text-gray-300 mb-4\" size={56} />\r\n            <p className=\"text-gray-600 font-medium mb-4\">Your cart is empty</p>\r\n            <Link href=\"/products\" className=\"inline-block px-8 py-3 bg-emerald-600 text-white rounded-2xl font-bold hover:bg-emerald-500\">\r\n              Browse rentals\r\n            </Link>\r\n          </motion.div>\r\n        ) : (\r\n          <div className=\"space-y-6\">\r\n            {items.map((item) => (\r\n              <motion.div\r\n                key={item.productId}\r\n                layout\r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"bg-white rounded-3xl border border-gray-100 p-6 shadow-sm flex flex-col sm:flex-row gap-6\"\r\n              >\r\n                <div className=\"relative w-full sm:w-32 aspect-square rounded-2xl overflow-hidden bg-gray-100 flex-shrink-0\">\r\n                  <Image src={item.product.images[0]} alt={item.product.title} fill className=\"object-cover\" />\r\n                </div>\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <Link href={`/products/${item.productId}`} className=\"font-bold text-lg text-black hover:text-emerald-600 line-clamp-1\">\r\n                    {item.product.title}\r\n                  </Link>\r\n                  <p className=\"text-sm text-gray-500 mb-4\">${item.product.pricePerDay}/day</p>\r\n                  <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-3\">\r\n                    <div>\r\n                      <label className=\"text-xs font-bold text-gray-400 uppercase\">Start</label>\r\n                      <input\r\n                        type=\"date\"\r\n                        value={item.startDate}\r\n                        onChange={(e) =>\r\n                          dispatch(\r\n                            updateCartItemDates({\r\n                              productId: item.productId,\r\n                              startDate: e.target.value,\r\n                              endDate: item.endDate,\r\n                              duration: item.duration,\r\n                            })\r\n                          )\r\n                        }\r\n                        className=\"w-full mt-1 px-3 py-2 rounded-xl border border-gray-200 text-sm\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"text-xs font-bold text-gray-400 uppercase\">End</label>\r\n                      <input\r\n                        type=\"date\"\r\n                        value={item.endDate}\r\n                        onChange={(e) =>\r\n                          dispatch(\r\n                            updateCartItemDates({\r\n                              productId: item.productId,\r\n                              startDate: item.startDate,\r\n                              endDate: e.target.value,\r\n                              duration: item.duration,\r\n                            })\r\n                          )\r\n                        }\r\n                        className=\"w-full mt-1 px-3 py-2 rounded-xl border border-gray-200 text-sm\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"text-xs font-bold text-gray-400 uppercase\">Duration</label>\r\n                      <select\r\n                        value={item.duration}\r\n                        onChange={(e) =>\r\n                          dispatch(\r\n                            updateCartItemDates({\r\n                              productId: item.productId,\r\n                              startDate: item.startDate,\r\n                              endDate: item.endDate,\r\n                              duration: e.target.value,\r\n                            })\r\n                          )\r\n                        }\r\n                        className=\"w-full mt-1 px-3 py-2 rounded-xl border border-gray-200 text-sm\"\r\n                      >\r\n                        <option value=\"day\">Daily</option>\r\n                        <option value=\"week\">Weekly</option>\r\n                        <option value=\"month\">Monthly</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex sm:flex-col justify-between sm:items-end gap-2\">\r\n                  <p className=\"text-xl font-black text-black\">${getTotalForItem(item).toFixed(2)}</p>\r\n                  <button\r\n                    onClick={() => dispatch(removeFromCart(item.productId))}\r\n                    className=\"p-2 rounded-xl text-red-600 hover:bg-red-50\"\r\n                  >\r\n                    <Trash2 size={18} />\r\n                  </button>\r\n                </div>\r\n              </motion.div>\r\n            ))}\r\n\r\n            <div className=\"bg-white rounded-3xl border border-gray-100 p-8 flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-6\">\r\n              <div>\r\n                <p className=\"text-gray-500 font-medium\">Subtotal</p>\r\n                <p className=\"text-3xl font-black text-black\">${subtotal.toFixed(2)}</p>\r\n              </div>\r\n              <button\r\n                onClick={handleCheckout}\r\n                disabled={checkingOut}\r\n                className=\"px-10 py-4 bg-emerald-600 text-white rounded-2xl font-bold hover:bg-emerald-500 flex items-center justify-center gap-2 disabled:opacity-50\"\r\n              >\r\n                {checkingOut ? <Loader2 className=\"animate-spin\" size={22} /> : 'Proceed to checkout'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <Footer />\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}