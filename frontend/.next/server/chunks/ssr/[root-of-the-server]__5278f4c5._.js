module.exports=[2057,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.AppRouterContext},1395,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored["react-ssr"].ReactServerDOMTurbopackClient},97134,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored["react-ssr"].ReactDOM},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},3420,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.HooksClientContext},98823,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.ServerInsertedHtml},69355,a=>{"use strict";let b=(0,a.i(31261).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],69355)},11810,a=>{"use strict";let b=(0,a.i(31261).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);a.s(["ArrowRight",()=>b],11810)},14505,a=>{"use strict";let b=(0,a.i(31261).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);a.s(["Mail",()=>b],14505)},57039,a=>{"use strict";let b=(0,a.i(31261).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);a.s(["Lock",()=>b],57039)},28383,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(68458),e=a.i(11988),f=a.i(73951),g=a.i(93609),h=a.i(59843),i=a.i(30796),j=a.i(50813),k=a.i(14505),l=a.i(57039),m=a.i(11810),n=a.i(69355),o=a.i(77703),p=a.i(81896);function q(){let[a,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)(!1),z=(0,d.useDispatch)(),A=(0,g.useRouter)(),B=async b=>{b.preventDefault(),w(null),u(!0);try{let b=await f.default.post("/api/auth/login",{email:a,password:r});if(b.data.requiresOtp){i.toast.success(b.data.message||"Check your email for the login code"),A.push(`/verify-login-otp?email=${encodeURIComponent(b.data.email||a)}`);return}z((0,e.setUser)(b.data.user)),i.toast.success("Welcome back!"),b.data.user?.role==="renter"?A.push("/discover"):A.push("/dashboard")}catch(c){let b=c.response?.data;if(b?.requiresVerification){w(b?.email||a),i.toast.error(b?.message||"Please verify your email");return}i.toast.error(b?.message||"Login failed")}finally{u(!1)}},C=async()=>{if(v){y(!0);try{await f.default.post("/api/auth/resend-verification-otp",{email:v}),i.toast.success("Verification code sent! Check your email."),A.push(`/verify-email?email=${encodeURIComponent(v)}`)}catch(a){i.toast.error(a.response?.data?.message||"Resend failed")}finally{y(!1)}}};return(0,b.jsxs)("main",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)(o.default,{}),(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen pt-20 px-4",children:(0,b.jsxs)(j.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full bg-white rounded-[40px] shadow-2xl shadow-black/5 p-10 border border-gray-100",children:[(0,b.jsxs)("div",{className:"text-center mb-10",children:[(0,b.jsx)("h1",{className:"text-3xl font-black tracking-tighter text-black mb-2",children:"Welcome Back"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Enter your credentials to access your account"})]}),(0,b.jsxs)("form",{onSubmit:B,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-gray-700 ml-1",children:"Email Address"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(k.Mail,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,b.jsx)("input",{type:"email",value:a,onChange:a=>q(a.target.value),className:"w-full pl-12 pr-4 py-4 bg-gray-50 border border-transparent rounded-2xl focus:bg-white focus:border-emerald-500 transition-all outline-none",placeholder:"name@example.com",required:!0})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-gray-700 ml-1",children:"Password"}),(0,b.jsx)(h.default,{href:"/forgot-password",className:"text-sm text-emerald-600 font-medium hover:underline",children:"Forgot password?"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(l.Lock,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,b.jsx)("input",{type:"password",value:r,onChange:a=>s(a.target.value),className:"w-full pl-12 pr-4 py-4 bg-gray-50 border border-transparent rounded-2xl focus:bg-white focus:border-emerald-500 transition-all outline-none",placeholder:"••••••••",required:!0})]})]}),(0,b.jsx)("button",{type:"submit",disabled:t,className:"w-full py-4 bg-black text-white rounded-2xl font-bold flex items-center justify-center gap-2 hover:bg-gray-800 transition-all shadow-xl shadow-black/10 disabled:opacity-50",children:t?(0,b.jsx)(n.Loader2,{className:"animate-spin",size:20}):(0,b.jsxs)(b.Fragment,{children:["Sign In ",(0,b.jsx)(m.ArrowRight,{size:18})]})}),v&&(0,b.jsxs)("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-2xl border border-amber-200 dark:border-amber-800",children:[(0,b.jsx)("p",{className:"text-sm text-amber-800 dark:text-amber-200 mb-3",children:"Please verify your email to sign in."}),(0,b.jsx)("button",{type:"button",onClick:C,disabled:x,className:"w-full py-3 bg-amber-600 text-white rounded-xl font-bold text-sm hover:bg-amber-700 disabled:opacity-50",children:x?(0,b.jsx)(n.Loader2,{className:"animate-spin mx-auto",size:20}):"Resend Verification Code"})]})]}),(0,b.jsx)("div",{className:"mt-10 text-center text-sm",children:(0,b.jsxs)("p",{className:"text-gray-500",children:["Don't have an account?"," ",(0,b.jsx)(h.default,{href:"/register",className:"text-emerald-600 font-bold hover:underline",children:"Create Account"})]})})]})}),(0,b.jsx)(p.default,{})]})}a.s(["default",()=>q])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__5278f4c5._.js.map