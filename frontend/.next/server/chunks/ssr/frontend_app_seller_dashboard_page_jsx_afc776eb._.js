module.exports=[959,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(73951),e=a.i(68458),f=a.i(11988),g=a.i(77703),h=a.i(81896),i=a.i(50813),j=a.i(15528),k=a.i(31261);let l=(0,k.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var m=a.i(26910),n=a.i(42357),o=a.i(78807),p=a.i(65718),q=a.i(69355);let r=(0,k.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),s=(0,k.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var t=a.i(30796);a.i(70579);var u=a.i(59843);function v(){let a=(0,e.useDispatch)(),{user:k}=(0,e.useSelector)(a=>a.auth),[v,w]=(0,c.useState)("overview"),[x,y]=(0,c.useState)([]),[z,A]=(0,c.useState)([]),[B,C]=(0,c.useState)(!0),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)({title:"",description:"",category:"Electronics",pricePerDay:"",images:[]}),[J,K]=(0,c.useState)({bio:"",location:"",policies:"",avatarFile:null,bannerFile:null,avatarPreview:"",bannerPreview:""}),[L,M]=(0,c.useState)(!1),[N,O]=(0,c.useState)(!1),P=(0,c.useCallback)(async()=>{M(!0);try{let a=(await d.default.get("/api/auth/me")).data.user;K(b=>({...b,bio:a.bio||"",location:a.location||"",policies:a.policies||"",avatarPreview:a.avatar||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop",bannerPreview:a.shopBanner||"https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?w=1200&h=400&fit=crop"}))}catch{t.toast.error("Failed to load shop profile")}finally{M(!1)}},[]);(0,c.useEffect)(()=>{"shop"===v&&P()},[v,P]),(0,c.useEffect)(()=>{let a=async()=>{try{let[a,b]=await Promise.all([d.default.get(`/api/products?seller=${k?.id}&approved=false`),d.default.get("/api/rentals")]);y(a.data.products),A(b.data.rentals)}catch(a){console.error(a)}finally{C(!1)}};k&&a()},[k]);let Q=async a=>{a.preventDefault(),G(!0);try{let a=new FormData;a.append("title",H.title),a.append("description",H.description),a.append("category",H.category),a.append("pricePerDay",H.pricePerDay),H.images.forEach(b=>a.append("images",b)),await d.default.post("/api/products",a),t.toast.success("Product submitted for approval!"),E(!1);let b=await d.default.get(`/api/products?seller=${k?.id}&approved=false`);y(b.data.products)}catch(a){t.toast.error(a.response?.data?.message||"Submission failed")}finally{G(!1)}},R=async b=>{b.preventDefault(),O(!0);try{let b=new FormData;b.append("bio",J.bio),b.append("location",J.location),b.append("policies",J.policies),J.avatarFile&&b.append("avatar",J.avatarFile),J.bannerFile&&b.append("shopBanner",J.bannerFile);let c=await d.default.patch("/api/seller/profile",b);t.toast.success("Shop profile updated!"),a((0,f.setUser)(c.data.user))}catch(a){t.toast.error(a.response?.data?.message||"Update failed")}finally{O(!1)}};return(0,b.jsxs)("main",{className:"min-h-screen bg-gray-50/50",children:[(0,b.jsx)(g.default,{}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-32 pb-20",children:[(0,b.jsxs)("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6 mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-4xl font-black tracking-tighter text-black mb-2",children:"Seller Hub"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Manage your rental inventory and track your earnings."})]}),"overview"===v&&(0,b.jsxs)("button",{onClick:()=>E(!0),className:"px-8 py-4 bg-emerald-600 text-white rounded-2xl font-bold flex items-center gap-2 hover:bg-emerald-500 transition-all shadow-xl shadow-emerald-500/20",children:[(0,b.jsx)(l,{size:20})," Add New Listing"]})]}),(0,b.jsxs)("div",{className:"flex gap-2 mb-10",children:[(0,b.jsx)("button",{onClick:()=>w("overview"),className:`px-6 py-3 rounded-2xl text-sm font-bold transition-all ${"overview"===v?"bg-black text-white shadow-lg":"bg-white text-gray-500 hover:bg-gray-50 border border-gray-100"}`,children:"Overview"}),(0,b.jsxs)("button",{onClick:()=>w("shop"),className:`px-6 py-3 rounded-2xl text-sm font-bold transition-all flex items-center gap-2 ${"shop"===v?"bg-black text-white shadow-lg":"bg-white text-gray-500 hover:bg-gray-50 border border-gray-100"}`,children:[(0,b.jsx)(r,{size:18})," Shop Settings"]})]}),(0,b.jsxs)(j.AnimatePresence,{mode:"wait",children:["overview"===v&&(0,b.jsxs)(i.motion.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},className:"space-y-12",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[{label:"Total Earnings",value:`$${z.reduce((a,b)=>a+("paid"===b.paymentStatus?b.totalAmount:0),0)}`,icon:(0,b.jsx)(n.DollarSign,{className:"text-emerald-500"}),color:"bg-emerald-50"},{label:"Active Products",value:x.filter(a=>a.isApproved).length,icon:(0,b.jsx)(m.Package,{className:"text-blue-500"}),color:"bg-blue-50"},{label:"Pending Approval",value:x.filter(a=>!a.isApproved).length,icon:(0,b.jsx)(o.Clock,{className:"text-amber-500"}),color:"bg-amber-50"},{label:"Rental Requests",value:z.length,icon:(0,b.jsx)(p.CheckCircle,{className:"text-purple-500"}),color:"bg-purple-50"}].map((a,c)=>(0,b.jsxs)("div",{className:"bg-white p-8 rounded-[32px] border border-gray-100 shadow-sm flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:a.label}),(0,b.jsx)("p",{className:"text-2xl font-black text-black",children:a.value})]}),(0,b.jsx)("div",{className:`p-4 ${a.color} rounded-2xl`,children:a.icon})]},c))}),(0,b.jsxs)("div",{className:"grid lg:grid-cols-3 gap-12",children:[(0,b.jsxs)("section",{className:"lg:col-span-2 bg-white rounded-[40px] border border-gray-100 shadow-sm overflow-hidden",children:[(0,b.jsx)("div",{className:"p-8 border-b border-gray-50",children:(0,b.jsx)("h2",{className:"text-xl font-black",children:"My Inventory"})}),(0,b.jsx)("div",{className:"divide-y divide-gray-50",children:x.length>0?x.map(a=>(0,b.jsxs)("div",{className:"p-8 flex items-center justify-between hover:bg-gray-50/50 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("img",{src:a.images[0],className:"w-16 h-16 rounded-2xl object-cover",alt:""}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-black",children:a.title}),(0,b.jsxs)("p",{className:"text-sm text-gray-400",children:[a.category," â€¢ $",a.pricePerDay,"/day"]})]})]}),(0,b.jsx)("div",{className:"flex items-center gap-3",children:(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${a.isApproved?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"}`,children:a.isApproved?"Approved":"Pending"})})]},a._id)):(0,b.jsx)("div",{className:"p-20 text-center text-gray-400 italic",children:"No products listed yet."})})]}),(0,b.jsxs)("section",{className:"bg-white rounded-[40px] border border-gray-100 shadow-sm overflow-hidden",children:[(0,b.jsx)("div",{className:"p-8 border-b border-gray-50",children:(0,b.jsx)("h2",{className:"text-xl font-black",children:"Recent Bookings"})}),(0,b.jsx)("div",{className:"p-8 space-y-6",children:z.slice(0,5).map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center font-bold text-gray-500",children:a.renter?.name?.charAt(0)}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-bold text-black",children:a.renter?.name}),(0,b.jsx)("p",{className:"text-xs text-gray-400",children:a.product?.title})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"text-sm font-black text-emerald-600",children:["$",a.totalAmount]}),(0,b.jsx)("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tighter",children:a.paymentStatus})]})]},a._id))})]})]})]},"overview"),"shop"===v&&(0,b.jsx)(i.motion.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},className:"space-y-10",children:(0,b.jsxs)("div",{className:"bg-white rounded-[40px] border border-gray-100 shadow-sm overflow-hidden p-8 md:p-10",children:[(0,b.jsx)("h2",{className:"text-2xl font-black text-black mb-2",children:"Shop Settings"}),(0,b.jsx)("p",{className:"text-gray-500 mb-8",children:"Edit your public shop profile. Renters see this on your storefront."}),L?(0,b.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,b.jsx)(q.Loader2,{className:"animate-spin text-emerald-600",size:40})}):(0,b.jsxs)("form",{onSubmit:R,className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-bold text-gray-700 ml-1 block mb-2",children:"Shop Banner"}),(0,b.jsxs)("div",{className:"relative h-48 rounded-2xl border-2 border-dashed border-gray-200 overflow-hidden bg-gray-50 flex items-center justify-center cursor-pointer hover:border-emerald-400 transition-colors",onClick:()=>document.getElementById("banner-input")?.click(),children:[J.bannerPreview||J.bannerFile?(0,b.jsx)("img",{src:J.bannerFile?URL.createObjectURL(J.bannerFile):J.bannerPreview,alt:"Banner preview",className:"w-full h-full object-cover"}):(0,b.jsxs)("div",{className:"text-center text-gray-400",children:[(0,b.jsx)(s,{size:32,className:"mx-auto mb-2 opacity-60"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Drop image or click"})]}),(0,b.jsx)("input",{id:"banner-input",type:"file",accept:"image/*",className:"hidden",onChange:a=>{let b=a.target.files?.[0];b&&K(a=>({...a,bannerFile:b,bannerPreview:URL.createObjectURL(b)}))}})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-bold text-gray-700 ml-1 block mb-2",children:"Profile Picture"}),(0,b.jsxs)("div",{className:"relative w-28 h-28 rounded-2xl border-2 border-dashed border-gray-200 overflow-hidden bg-gray-50 flex items-center justify-center cursor-pointer hover:border-emerald-400 transition-colors",onClick:()=>document.getElementById("avatar-input")?.click(),children:[J.avatarPreview||J.avatarFile?(0,b.jsx)("img",{src:J.avatarFile?URL.createObjectURL(J.avatarFile):J.avatarPreview,alt:"Avatar preview",className:"w-full h-full object-cover"}):(0,b.jsx)(s,{size:28,className:"text-gray-400"}),(0,b.jsx)("input",{id:"avatar-input",type:"file",accept:"image/*",className:"hidden",onChange:a=>{let b=a.target.files?.[0];b&&K(a=>({...a,avatarFile:b,avatarPreview:URL.createObjectURL(b)}))}})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-bold text-gray-700 ml-1 block mb-2",children:"Location"}),(0,b.jsx)("input",{type:"text",value:J.location,onChange:a=>K(b=>({...b,location:a.target.value})),className:"w-full bg-gray-50 border border-transparent rounded-2xl px-6 py-4 focus:bg-white focus:border-emerald-500 outline-none transition-all",placeholder:"e.g. San Francisco, CA"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-bold text-gray-700 ml-1 block mb-2",children:"About / Bio"}),(0,b.jsx)("textarea",{value:J.bio,onChange:a=>K(b=>({...b,bio:a.target.value})),className:"w-full bg-gray-50 border border-transparent rounded-2xl px-6 py-4 focus:bg-white focus:border-emerald-500 outline-none transition-all h-32",placeholder:"Tell renters about your shop and what you offer."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-bold text-gray-700 ml-1 block mb-2",children:"Policies"}),(0,b.jsx)("textarea",{value:J.policies,onChange:a=>K(b=>({...b,policies:a.target.value})),className:"w-full bg-gray-50 border border-transparent rounded-2xl px-6 py-4 focus:bg-white focus:border-emerald-500 outline-none transition-all h-40 font-mono text-sm",placeholder:"Rental rules, cancellation, security deposit, etc. (one per line or short paragraphs)"})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[(0,b.jsx)(u.default,{href:k?.id?`/seller/${k.id}`:"#",className:"flex-1 py-4 bg-gray-100 text-gray-700 rounded-2xl font-bold hover:bg-gray-200 transition-all text-center",children:"View public shop"}),(0,b.jsx)("button",{type:"submit",disabled:N,className:"flex-1 py-4 bg-black text-white rounded-2xl font-bold hover:bg-gray-800 transition-all shadow-xl shadow-black/10 flex items-center justify-center gap-2",children:N?(0,b.jsx)(q.Loader2,{className:"animate-spin",size:20}):"Save changes"})]})]})]})},"shop")]})]}),(0,b.jsx)(j.AnimatePresence,{children:D&&(0,b.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[(0,b.jsx)(i.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>E(!1),className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),(0,b.jsx)(i.motion.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white w-full max-w-2xl rounded-[40px] shadow-2xl overflow-hidden",children:(0,b.jsxs)("div",{className:"p-10",children:[(0,b.jsx)("h2",{className:"text-3xl font-black mb-2",children:"List New Item"}),(0,b.jsx)("p",{className:"text-gray-500 mb-8",children:"Fill in the details to submit your product for admin approval."}),(0,b.jsxs)("form",{onSubmit:Q,className:"grid grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-gray-700 ml-1",children:"Product Title"}),(0,b.jsx)("input",{required:!0,type:"text",value:H.title,onChange:a=>I({...H,title:a.target.value}),className:"w-full bg-gray-50 border border-transparent rounded-2xl px-6 py-4 focus:bg-white focus:border-emerald-500 outline-none transition-all",placeholder:"e.g. Professional DJI Drone"})]}),(0,b.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-gray-700 ml-1",children:"Description"}),(0,b.jsx)("textarea",{required:!0,value:H.description,onChange:a=>I({...H,description:a.target.value}),className:"w-full bg-gray-50 border border-transparent rounded-2xl px-6 py-4 focus:bg-white focus:border-emerald-500 outline-none transition-all h-32",placeholder:"Describe the condition, features, and terms..."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-gray-700 ml-1",children:"Category"}),(0,b.jsxs)("select",{value:H.category,onChange:a=>I({...H,category:a.target.value}),className:"w-full bg-gray-50 border border-transparent rounded-2xl px-6 py-4 focus:bg-white focus:border-emerald-500 outline-none transition-all appearance-none cursor-pointer",children:[(0,b.jsx)("option",{children:"Electronics"}),(0,b.jsx)("option",{children:"Furniture"}),(0,b.jsx)("option",{children:"Photography"}),(0,b.jsx)("option",{children:"Outdoor"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-gray-700 ml-1",children:"Price / Day ($)"}),(0,b.jsx)("input",{required:!0,type:"number",value:H.pricePerDay,onChange:a=>I({...H,pricePerDay:a.target.value}),className:"w-full bg-gray-50 border border-transparent rounded-2xl px-6 py-4 focus:bg-white focus:border-emerald-500 outline-none transition-all",placeholder:"25"})]}),(0,b.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-gray-700 ml-1",children:"Product Images"}),(0,b.jsx)("input",{type:"file",multiple:!0,onChange:a=>I({...H,images:Array.from(a.target.files||[])}),className:"w-full bg-gray-50 border border-dashed border-gray-200 rounded-2xl px-6 py-8 text-sm file:hidden cursor-pointer hover:border-emerald-500 transition-all"})]}),(0,b.jsxs)("div",{className:"col-span-2 flex gap-4 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:()=>E(!1),className:"flex-1 py-4 bg-gray-100 text-gray-600 rounded-2xl font-bold hover:bg-gray-200 transition-all",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:F,className:"flex-1 py-4 bg-black text-white rounded-2xl font-bold hover:bg-gray-800 transition-all shadow-xl shadow-black/10 flex items-center justify-center gap-2",children:F?(0,b.jsx)(q.Loader2,{className:"animate-spin"}):"Submit Listing"})]})]})]})})]})}),(0,b.jsx)(h.default,{})]})}a.s(["default",()=>v],959)}];

//# sourceMappingURL=frontend_app_seller_dashboard_page_jsx_afc776eb._.js.map