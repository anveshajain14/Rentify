module.exports=[2057,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.AppRouterContext},1395,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored["react-ssr"].ReactServerDOMTurbopackClient},97134,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored["react-ssr"].ReactDOM},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},3420,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.HooksClientContext},98823,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.ServerInsertedHtml},69355,a=>{"use strict";let b=(0,a.i(31261).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],69355)},11810,a=>{"use strict";let b=(0,a.i(31261).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);a.s(["ArrowRight",()=>b],11810)},14505,a=>{"use strict";let b=(0,a.i(31261).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);a.s(["Mail",()=>b],14505)},74505,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(73951),e=a.i(93609),f=a.i(59843),g=a.i(30796),h=a.i(50813),i=a.i(14505),j=a.i(69355),k=a.i(11810),l=a.i(77703),m=a.i(81896);function n(){let a=(0,e.useSearchParams)().get("email")||"",[n,o]=(0,c.useState)(a),[p,q]=(0,c.useState)(["","","","","",""]),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(0),x=(0,e.useRouter)(),y=(0,c.useRef)([]),z=async a=>{if(a.preventDefault(),!n)return void g.toast.error("Please enter your email");let b=p.join("");if(6!==b.length)return void g.toast.error("Please enter the 6-digit code");s(!0);try{let a=await d.default.post("/api/auth/verify-email",{email:n,otp:b});g.toast.success(a.data.message||"Email verified!"),x.push("/login")}catch(a){g.toast.error(a.response?.data?.message||"Verification failed")}finally{s(!1)}},A=async()=>{if(!n)return void g.toast.error("Please enter your email");if(!(v>0)){u(!0);try{let a=await d.default.post("/api/auth/resend-verification-otp",{email:n});g.toast.success(a.data.message||"Code sent!"),w(60);let b=setInterval(()=>{w(a=>(a<=1&&clearInterval(b),a-1))},1e3)}catch(a){g.toast.error(a.response?.data?.message||"Resend failed")}finally{u(!1)}}};return(0,b.jsxs)("main",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,b.jsx)(l.default,{}),(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen pt-24 px-4 pb-12",children:(0,b.jsxs)(h.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-[40px] shadow-2xl shadow-black/5 p-10 border border-gray-100 dark:border-gray-700",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-black tracking-tighter text-black dark:text-white mb-2",children:"Verify your email"}),(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Enter the 6-digit code sent to your email"})]}),(0,b.jsxs)("form",{onSubmit:z,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 ml-1",children:"Email Address"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(i.Mail,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,b.jsx)("input",{type:"email",value:n,onChange:a=>o(a.target.value),className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-gray-700 border border-transparent rounded-2xl focus:bg-white dark:focus:bg-gray-600 focus:border-emerald-500 transition-all outline-none dark:text-white",placeholder:"name@example.com",required:!0})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 ml-1",children:"Verification Code"}),(0,b.jsx)("div",{className:"flex gap-2 justify-center",onPaste:a=>{a.preventDefault();let b=a.clipboardData.getData("text").replace(/\D/g,"").slice(0,6);if(!b)return;let c=[...p];b.split("").forEach((a,b)=>{c[b]=a}),q(c),y.current[Math.min(b.length,5)]?.focus()},children:p.map((a,c)=>(0,b.jsx)("input",{ref:a=>y.current[c]=a,type:"text",inputMode:"numeric",maxLength:1,value:a,onChange:a=>((a,b)=>{if(!/^\d*$/.test(b))return;let c=[...p];c[a]=b.slice(-1),q(c),b&&a<5&&y.current[a+1]?.focus()})(c,a.target.value),onKeyDown:a=>{"Backspace"===a.key&&!p[c]&&c>0&&y.current[c-1]?.focus()},className:"w-12 h-14 text-center text-xl font-bold bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20 outline-none dark:text-white"},c))})]}),(0,b.jsx)("button",{type:"submit",disabled:r,className:"w-full py-4 bg-black dark:bg-white text-white dark:text-black rounded-2xl font-bold flex items-center justify-center gap-2 hover:bg-gray-800 dark:hover:bg-gray-200 transition-all shadow-xl shadow-black/10 disabled:opacity-50",children:r?(0,b.jsx)(j.Loader2,{className:"animate-spin",size:20}):(0,b.jsxs)(b.Fragment,{children:["Verify ",(0,b.jsx)(k.ArrowRight,{size:18})]})})]}),(0,b.jsx)("div",{className:"mt-6 text-center",children:(0,b.jsx)("button",{type:"button",onClick:A,disabled:t||v>0,className:"text-sm text-emerald-600 font-medium hover:underline disabled:opacity-50 disabled:cursor-not-allowed",children:v>0?`Resend in ${v}s`:t?"Sending...":"Resend verification code"})}),(0,b.jsx)("div",{className:"mt-8 text-center text-sm",children:(0,b.jsxs)("p",{className:"text-gray-500 dark:text-gray-400",children:["Already verified?"," ",(0,b.jsx)(f.default,{href:"/login",className:"text-emerald-600 font-bold hover:underline",children:"Sign In"})]})})]})}),(0,b.jsx)(m.default,{})]})}a.s(["default",()=>n])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__7efeb4d3._.js.map