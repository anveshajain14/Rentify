(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86051,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},80380,e=>{"use strict";let t=(0,e.i(35884).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],80380)},96086,(e,t,a)=>{t.exports=e.r(9187)},43938,e=>{"use strict";let t=(0,e.i(35884).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],43938)},35169,e=>{"use strict";let t=(0,e.i(35884).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>t],35169)},64933,88255,e=>{"use strict";var t=e.i(48277),a=e.i(42588),s=e.i(16506),l=e.i(79036),r=e.i(35169);let i=(0,e.i(35884).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>i],88255);var n=e.i(43938),o=e.i(50097),c=e.i(12463),d=e.i(35691),m=e.i(94744),x=e.i(5619),f=e.i(65876);function p({product:e}){let p=(0,l.useDispatch)(),u=(0,l.useSelector)(t=>t.wishlist.productIds.includes(e._id)),h=(0,l.useSelector)(e=>e.auth.user),g=e.seller?._id??e.seller,y="object"==typeof e.seller&&e.seller?.name,b="object"==typeof e.seller&&e.seller?.avatar,v="object"==typeof e.seller&&e.seller?.location,j=function(e){let t=e?.availability||[];if(!Array.isArray(t)||0===t.length)return{label:"Available today",tone:"available"};let a=new Date;a.setHours(0,0,0,0);let s=a.getTime(),l=!1,r=null;for(let e of t){if(!e?.startDate||!e?.endDate)continue;let t=new Date(e.startDate),a=new Date(e.endDate);t.setHours(0,0,0,0),a.setHours(0,0,0,0);let i=t.getTime(),n=a.getTime();s>=i&&s<=n?(l=!0,(!r||n<r)&&(r=n)):n>=s&&(!r||n<r)&&(r=n)}if(!l)return{label:"Available today",tone:"available"};if(r){let e=new Date(r);e.setDate(e.getDate()+1);let t=e.toLocaleDateString(void 0,{month:"short",day:"numeric"});return{label:`Will be available ${t}`,tone:"soon"}}return null}(e),w={_id:e._id,title:e.title,images:e.images||[],pricePerDay:e.pricePerDay,pricePerWeek:e.pricePerWeek,pricePerMonth:e.pricePerMonth,category:e.category,seller:e.seller&&("object"==typeof e.seller?{_id:e.seller._id,name:e.seller.name,avatar:e.seller.avatar}:void 0)};return(0,t.jsxs)(d.motion.div,{whileHover:{y:-5},className:"group bg-white rounded-3xl overflow-hidden border border-gray-100 hover:shadow-2xl hover:shadow-emerald-500/10 transition-all duration-500",children:[(0,t.jsx)(s.default,{href:`/products/${e._id}`,children:(0,t.jsxs)("div",{className:"relative aspect-[4/5] overflow-hidden",children:[(0,t.jsx)(a.default,{src:e.images[0],alt:e.title,fill:!0,className:"object-cover transition-transform duration-700 group-hover:scale-110"}),(0,t.jsxs)("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[(0,t.jsx)("span",{className:"px-3 py-1 bg-white/90 backdrop-blur-md rounded-full text-xs font-bold text-black shadow-sm",children:e.category}),j&&(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-[10px] font-semibold shadow-sm ${"available"===j.tone?"bg-emerald-600 text-white":"bg-amber-100 text-amber-800"}`,children:j.label})]}),(0,t.jsx)("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),p((0,f.toggleWishlist)(e._id)),m.toast.success(u?"Removed from wishlist":"Added to wishlist")},className:"absolute top-4 right-4 p-2 rounded-full bg-white/90 backdrop-blur-md shadow-sm hover:bg-white",children:(0,t.jsx)(c.Heart,{size:18,className:u?"fill-red-500 text-red-500":"text-gray-600"})})]})}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsx)(s.default,{href:`/products/${e._id}`,children:(0,t.jsx)("h3",{className:"font-bold text-lg text-gray-900 line-clamp-1 group-hover:text-emerald-600 transition-colors",children:e.title})}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-amber-500",children:[(0,t.jsx)(r.Star,{size:14,fill:"currentColor"}),(0,t.jsx)("span",{className:"text-sm font-bold text-gray-700",children:"4.9"})]})]}),g&&(0,t.jsxs)(s.default,{href:`/seller/${g}`,className:"flex items-center gap-2 text-gray-500 text-sm mb-4 hover:text-emerald-600 transition-colors group/seller",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("div",{className:"relative w-6 h-6 rounded-full overflow-hidden border border-gray-200 flex-shrink-0",children:(0,t.jsx)(a.default,{src:b||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100",alt:y||"Seller",width:24,height:24,className:"object-cover group-hover/seller:ring-2 group-hover/seller:ring-emerald-500 rounded-full"})}),(0,t.jsx)("span",{className:"font-medium text-gray-700 group-hover/seller:text-emerald-600 truncate",children:y||"Seller"}),v&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-gray-300",children:"Â·"}),(0,t.jsxs)("span",{className:"flex items-center gap-0.5",children:[(0,t.jsx)(i,{size:12})," ",v]})]})]}),!g&&(0,t.jsxs)("div",{className:"flex items-center gap-4 text-gray-500 text-sm mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(i,{size:14}),(0,t.jsx)("span",{children:e.seller?.location||"â€”"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(n.Clock,{size:14}),(0,t.jsx)("span",{children:"Verified"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-50 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"text-2xl font-black text-black",children:["$",e.pricePerDay]}),(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:" / day"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:t=>{t.preventDefault(),t.stopPropagation();let a="object"==typeof e.seller?e.seller?._id:e.seller;if(h?.role==="seller"&&h.id&&a&&String(h.id)===String(a))return void m.toast.error("Sellers can't add their own listings to the cart.");let s=new Date,l=new Date;l.setDate(l.getDate()+1),p((0,x.addToCart)({productId:e._id,product:w,startDate:s.toISOString().slice(0,10),endDate:l.toISOString().slice(0,10),duration:"day"})),m.toast.success("Added to cart. Set dates in Cart.")},className:"p-2 rounded-xl border border-gray-200 hover:bg-gray-50",title:"Add to cart",children:(0,t.jsx)(o.ShoppingCart,{size:18,className:"text-gray-600"})}),(0,t.jsx)(s.default,{href:`/products/${e._id}`,className:"px-4 py-2 bg-emerald-50 text-emerald-600 rounded-xl text-sm font-bold hover:bg-emerald-600 hover:text-white transition-all",children:"Rent Now"})]})]})]})]})}e.s(["default",()=>p],64933)},93561,e=>{"use strict";let t=(0,e.i(35884).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],93561)},59484,e=>{"use strict";let t=(0,e.i(35884).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>t],59484)},92588,e=>{"use strict";let t,a;var s=e.i(48277),l=e.i(30668),r=e.i(18033),i=e.i(96086),n=e.i(36405),o=e.i(33672),c=e.i(64933),d=e.i(19179),m=e.i(19547),x=e.i(80900),f=e.i(38102);function p(e){return"number"==typeof e?e:parseFloat(e)}var u=e.i(43533),h=e.i(50772);function g(e){let t=(0,h.useConstant)(()=>(0,d.motionValue)(e)),{isStatic:a}=(0,l.useContext)(u.MotionConfigContext);if(a){let[,a]=(0,l.useState)(e);(0,l.useEffect)(()=>t.on("change",a),[])}return t}var y=e.i(47946),b=e.i(53899);function v(e,t){let a=g(t()),s=()=>a.set(t());return s(),(0,b.useIsomorphicLayoutEffect)(()=>{let t=()=>f.frame.preRender(s,!1,!0),a=e.map(e=>e.on("change",t));return()=>{a.forEach(e=>e()),(0,f.cancelFrame)(s)}}),a}function j(e,t,a,s){if("function"==typeof e){let t;return d.collectMotionValues.current=[],e(),t=v(d.collectMotionValues.current,e),d.collectMotionValues.current=void 0,t}if(void 0!==a&&!Array.isArray(a)&&"function"!=typeof t){var l=e,r=t,i=a,n=s;let o=(0,h.useConstant)(()=>Object.keys(i)),c=(0,h.useConstant)(()=>({}));for(let e of o)c[e]=j(l,r,i[e],n);return c}let o="function"==typeof t?t:function(...e){let t=!Array.isArray(e[0]),a=t?0:-1,s=e[0+a],l=e[1+a],r=e[2+a],i=e[3+a],n=(0,y.interpolate)(l,r,i);return t?n(s):n}(t,a,s);return Array.isArray(e)?w(e,o):w([e],([e])=>o(e))}function w(e,t){let a=(0,h.useConstant)(()=>[]);return v(e,()=>{a.length=0;let s=e.length;for(let t=0;t<s;t++)a[t]=e[t].get();return t(a)})}function N({value:e,decimalPlaces:t=0,suffix:a=""}){var r,i;let[n,o]=(0,l.useState)(0),c=function(e,t={}){return function(e,t={}){let{isStatic:a}=(0,l.useContext)(u.MotionConfigContext),s=()=>(0,x.isMotionValue)(0)?0..get():0;if(a)return j(s);let r=g(s());return(0,l.useInsertionEffect)(()=>(function(e,t,a={}){let s,l=e.get(),r=null,i=l,n="string"==typeof l?l.replace(/[\d.-]/g,""):void 0,o=()=>{r&&(r.stop(),r=null)};if(e.attach((t,l)=>{i=t,s=e=>{var t,a;return l((t=e,(a=n)?t+a:t))},f.frame.postRender(()=>{let t,l;o(),t=p(e.get()),t!==(l=p(i))&&(r=new m.JSAnimation({keyframes:[t,l],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...a,onUpdate:s})),e.events.animationStart?.notify(),r?.then(()=>{e.events.animationComplete?.notify()})})},o),(0,x.isMotionValue)(t)){let a=t.on("change",t=>{var a,s;return e.set((a=t,(s=n)?a+s:a))}),s=e.on("destroy",a);return()=>{a(),s()}}return o})(r,0,t),[r,JSON.stringify(t)]),r}(0,{type:"spring",...t})}(0,{mass:.5,stiffness:80});return(0,l.useEffect)(()=>{c.set(e)},[e,c]),r="change",i=e=>o(e),(0,l.useInsertionEffect)(()=>c.on(r,i),[c,r,i]),(0,s.jsxs)("span",{className:"tabular-nums",children:[n.toFixed(t),a]})}var k=e.i(35691),S=e.i(42896),z=e.i(48027);function C(e,t){let a,s=()=>{let{currentTime:s}=t,l=(null===s?0:s.value)/100;a!==l&&e(l),a=l};return f.frame.preUpdate(s,!0),()=>(0,f.cancelFrame)(s)}var R=e.i(31096),L=e.i(41492),P=e.i(69851);let A=new WeakMap,M=(e,t,a)=>(s,l)=>l&&l[0]?l[0][e+"Size"]:(0,L.isSVGElement)(s)&&"getBBox"in s?s.getBBox()[t]:s[a],D=M("inline","width","offsetWidth"),E=M("block","height","offsetHeight");function W({target:e,borderBoxSize:t}){A.get(e)?.forEach(a=>{a(e,{get width(){return D(e,t)},get height(){return E(e,t)}})})}function T(e){e.forEach(W)}let _=new Set;var H=e.i(13890),O=e.i(94925);let V=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),B={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function $(e,t,a,s){let l=a[t],{length:r,position:i}=B[t],n=l.current,o=a.time;l.current=e[`scroll${i}`],l.scrollLength=e[`scroll${r}`]-e[`client${r}`],l.offset.length=0,l.offset[0]=0,l.offset[1]=l.scrollLength,l.progress=(0,H.progress)(0,l.scrollLength,l.current);let c=s-o;l.velocity=c>50?0:(0,O.velocityPerSecond)(l.current-n,c)}e.i(39057);var F=e.i(16042),I=e.i(95076),U=e.i(21216);let q={start:0,center:.5,end:1};function J(e,t,a=0){let s=0;if(e in q&&(e=q[e]),"string"==typeof e){let t=parseFloat(e);e.endsWith("px")?s=t:e.endsWith("%")?e=t/100:e.endsWith("vw")?s=t/100*document.documentElement.clientWidth:e.endsWith("vh")?s=t/100*document.documentElement.clientHeight:e=t}return"number"==typeof e&&(s=t*e),a+s}let X=[0,0],Y=[[0,0],[1,1]],G={x:0,y:0},K=new WeakMap,Q=new WeakMap,Z=new WeakMap,ee=new WeakMap,et=new WeakMap,ea=e=>e===document.scrollingElement?window:e;function es(e,{container:s=document.scrollingElement,trackContentSize:l=!1,...r}={}){if(!s)return z.noop;let i=Z.get(s);i||(i=new Set,Z.set(s,i));let n=function(e,t,a,s={}){return{measure:t=>{!function(e,t=e,a){if(a.x.targetOffset=0,a.y.targetOffset=0,t!==e){let s=t;for(;s&&s!==e;)a.x.targetOffset+=s.offsetLeft,a.y.targetOffset+=s.offsetTop,s=s.offsetParent}a.x.targetLength=t===e?t.scrollWidth:t.clientWidth,a.y.targetLength=t===e?t.scrollHeight:t.clientHeight,a.x.containerLength=e.clientWidth,a.y.containerLength=e.clientHeight}(e,s.target,a),$(e,"x",a,t),$(e,"y",a,t),a.time=t,(s.offset||s.target)&&function(e,t,a){let{offset:s=Y}=a,{target:l=e,axis:r="y"}=a,i="y"===r?"height":"width",n=l!==e?function(e,t){let a={x:0,y:0},s=e;for(;s&&s!==t;)if((0,U.isHTMLElement)(s))a.x+=s.offsetLeft,a.y+=s.offsetTop,s=s.offsetParent;else if("svg"===s.tagName){let e=s.getBoundingClientRect(),t=(s=s.parentElement).getBoundingClientRect();a.x+=e.left-t.left,a.y+=e.top-t.top}else if(s instanceof SVGGraphicsElement){let{x:e,y:t}=s.getBBox();a.x+=e,a.y+=t;let l=null,r=s.parentNode;for(;!l;)"svg"===r.tagName&&(l=r),r=s.parentNode;s=l}else break;return a}(l,e):G,o=l===e?{width:e.scrollWidth,height:e.scrollHeight}:"getBBox"in l&&"svg"!==l.tagName?l.getBBox():{width:l.clientWidth,height:l.clientHeight},c={width:e.clientWidth,height:e.clientHeight};t[r].offset.length=0;let d=!t[r].interpolate,m=s.length;for(let e=0;e<m;e++){let a=function(e,t,a,s){let l=Array.isArray(e)?e:X,r=0;return"number"==typeof e?l=[e,e]:"string"==typeof e&&(l=(e=e.trim()).includes(" ")?e.split(" "):[e,q[e]?e:"0"]),(r=J(l[0],a,s))-J(l[1],t)}(s[e],c[i],o[i],n[r]);d||a===t[r].interpolatorOffsets[e]||(d=!0),t[r].offset[e]=a}d&&(t[r].interpolate=(0,y.interpolate)(t[r].offset,(0,F.defaultOffset)(s),{clamp:!1}),t[r].interpolatorOffsets=[...t[r].offset]),t[r].progress=(0,I.clamp)(0,1,t[r].interpolate(t[r].current))}(e,a,s)},notify:()=>t(a)}}(s,e,{time:0,x:V(),y:V()},r);if(i.add(n),!K.has(s)){let e,l=()=>{for(let e of i)e.measure(f.frameData.timestamp);f.frame.preUpdate(r)},r=()=>{for(let e of i)e.notify()},n=()=>f.frame.read(l);K.set(s,n);let o=ea(s);window.addEventListener("resize",n,{passive:!0}),s!==document.documentElement&&Q.set(s,"function"==typeof s?(_.add(s),a||(a=()=>{let e={get width(){return window.innerWidth},get height(){return window.innerHeight}};_.forEach(t=>t(e))},window.addEventListener("resize",a)),()=>{_.delete(s),_.size||"function"!=typeof a||(window.removeEventListener("resize",a),a=void 0)}):(!t&&"u">typeof ResizeObserver&&(t=new ResizeObserver(T)),(e=(0,P.resolveElements)(s)).forEach(e=>{let a=A.get(e);a||(a=new Set,A.set(e,a)),a.add(n),t?.observe(e)}),()=>{e.forEach(e=>{let a=A.get(e);a?.delete(n),a?.size||t?.unobserve(e)})})),o.addEventListener("scroll",n,{passive:!0}),n()}if(l&&!et.has(s)){let e=K.get(s),t={width:s.scrollWidth,height:s.scrollHeight};ee.set(s,t);let a=f.frame.read(()=>{let a=s.scrollWidth,l=s.scrollHeight;(t.width!==a||t.height!==l)&&(e(),t.width=a,t.height=l)},!0);et.set(s,a)}let o=K.get(s);return f.frame.read(o,!1,!0),()=>{(0,f.cancelFrame)(o);let e=Z.get(s);if(!e||(e.delete(n),e.size))return;let t=K.get(s);K.delete(s),t&&(ea(s).removeEventListener("scroll",t),Q.get(s)?.(),window.removeEventListener("resize",t));let a=et.get(s);a&&((0,f.cancelFrame)(a),et.delete(s)),ee.delete(s)}}let el=new Map;function er({source:e,container:t,...a}){var s;let l,r,{axis:i}=a;e&&(t=e);let n=el.get(t)??new Map;el.set(t,n);let o=a.target??"self",c=n.get(o)??{},d=i+(a.offset??[]).join(",");return c[d]||(c[d]=!a.target&&(0,R.supportsScrollTimeline)()?new ScrollTimeline({source:t,axis:i}):(s={container:t,...a},l={value:0},r=es(e=>{l.value=100*e[s.axis].progress},s),{currentTime:l,cancel:r})),c[d]}let ei=()=>({scrollX:(0,d.motionValue)(0),scrollY:(0,d.motionValue)(0),scrollXProgress:(0,d.motionValue)(0),scrollYProgress:(0,d.motionValue)(0)}),en=e=>!!e&&!e.current;var eo=e.i(35169),ec=e.i(88255),ed=e.i(54133),em=e.i(93561),ex=e.i(80380),ef=e.i(59484),ep=e.i(35884);let eu=(0,ep.default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),eh=(0,ep.default)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),eg=(0,ep.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),ey=(0,ep.default)("flag",[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]]);var eb=e.i(42588),ev=e.i(79036),ej=e.i(94744);let ew="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop";function eN(){return(0,s.jsxs)("div",{className:"bg-white rounded-3xl overflow-hidden border border-gray-100",children:[(0,s.jsx)("div",{className:"aspect-[4/5] bg-gray-200 animate-pulse"}),(0,s.jsxs)("div",{className:"p-6 space-y-2",children:[(0,s.jsx)("div",{className:"h-5 bg-gray-200 rounded w-3/4 animate-pulse"}),(0,s.jsx)("div",{className:"h-4 bg-gray-100 rounded w-1/2 animate-pulse"}),(0,s.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3 animate-pulse mt-4"})]})]})}function ek(){let e=(0,i.useParams)(),t=e?.id,[a,d]=(0,l.useState)(null),[m,x]=(0,l.useState)(!0),[f,p]=(0,l.useState)(!1),[u,g]=(0,l.useState)(null),[y,v]=(0,l.useState)({}),w=(0,ev.useSelector)(e=>e.auth.user),{scrollY:R}=function({container:e,target:t,...a}={}){let s=(0,h.useConstant)(ei),r=(0,l.useRef)(null),i=(0,l.useRef)(!1),n=(0,l.useCallback)(()=>(r.current=function(e,{axis:t="y",container:a=document.scrollingElement,...s}={}){var l,r;let i;if(!a)return z.noop;let n={axis:t,container:a,...s};return"function"==typeof e?(l=e,r=n,2===l.length?es(e=>{l(e[r.axis].progress,e)},r):C(l,er(r))):(i=er(n),e.attachTimeline({timeline:n.target?void 0:i,observe:e=>(e.pause(),C(t=>{e.time=e.iterationDuration*t},i))}))}((e,{x:t,y:a})=>{s.scrollX.set(t.current),s.scrollXProgress.set(t.progress),s.scrollY.set(a.current),s.scrollYProgress.set(a.progress)},{...a,container:e?.current||void 0,target:t?.current||void 0}),()=>{r.current?.()}),[e,t,JSON.stringify(a.offset)]);return(0,b.useIsomorphicLayoutEffect)(()=>{if(i.current=!1,!(en(e)||en(t)))return n();i.current=!0},[n]),(0,l.useEffect)(()=>i.current?((0,S.invariant)(!en(e),"Container ref is defined but not hydrated","use-scroll-ref"),(0,S.invariant)(!en(t),"Target ref is defined but not hydrated","use-scroll-ref"),n()):void 0,[n]),s}(),L=j(R,[0,500],[0,200]),P=(0,l.useCallback)(async(e=1)=>{try{1===e?x(!0):p(!0);let a=await r.default.get(`/api/seller/${t}`,{params:e>1?{reviewPage:e,reviewLimit:10}:void 0});d(t=>{let s=a.data;return 1!==e&&t?{...t,reviews:[...t.reviews,...s.reviews||[]],reviewPage:s.reviewPage}:s})}catch{1===e&&d(null)}finally{x(!1),p(!1)}},[t]);(0,l.useEffect)(()=>{P(1)},[P]);let A=a&&a.totalReviews>a.reviews.length;if(m)return(0,s.jsxs)("main",{className:"min-h-screen bg-white",children:[(0,s.jsx)(n.default,{}),(0,s.jsx)("div",{className:"relative h-[400px] bg-gray-200 animate-pulse"}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-24 relative z-10 pb-20",children:[(0,s.jsx)("div",{className:"bg-white rounded-[40px] p-8 shadow-2xl border border-gray-100 animate-pulse h-64 mb-12"}),(0,s.jsxs)("div",{className:"grid lg:grid-cols-3 gap-12",children:[(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)("div",{className:"h-24 bg-gray-100 rounded-2xl animate-pulse"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-4",children:[1,2,3,4].map(e=>(0,s.jsx)("div",{className:"h-24 bg-gray-100 rounded-2xl animate-pulse"},e))})]}),(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsx)("div",{className:"grid sm:grid-cols-2 gap-8",children:[1,2,3,4].map(e=>(0,s.jsx)(eN,{},e))})})]})]}),(0,s.jsx)(o.default,{})]});if(!a)return(0,s.jsxs)("main",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center",children:[(0,s.jsx)(n.default,{}),(0,s.jsxs)("div",{className:"text-center px-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-black text-black mb-2",children:"Seller not found"}),(0,s.jsx)("p",{className:"text-gray-500",children:"This shop may be private or the link may be incorrect."})]}),(0,s.jsx)(o.default,{})]});let{seller:M,products:D,reviews:E,stats:W,ratingDistribution:T,topPicks:_}=a,H=M.shopBanner||"https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?w=1600",O=M.avatar||ew,V=[];W.totalRentalsCompleted>=25&&V.push({label:"Top Seller",icon:"ðŸ†"}),W.responseRate>=95&&V.push({label:"Fast Responder",icon:"âš¡"}),W.averageRating>=4.7&&W.totalReviews>=10&&V.push({label:"Highly Rated",icon:"ðŸŒŸ"});let B=async()=>{let e=window.location.href;try{navigator.share?await navigator.share({title:`${M.name} on LuxeRent`,url:e}):navigator.clipboard?.writeText&&(await navigator.clipboard.writeText(e),alert("Seller profile link copied to clipboard."))}catch{alert("Unable to share right now.")}},$=async()=>{if(navigator.clipboard?.writeText)try{await navigator.clipboard.writeText(window.location.href),alert("Seller profile link copied to clipboard.")}catch{alert("Unable to copy link.")}},F=async()=>{if(!w)return void ej.toast.error("Please login to report a seller.");if(!window.confirm("Report this seller to the admin team?"))return;let e=window.prompt("Please describe the issue:");if(e)try{await r.default.post("/api/report",{reportedUserId:M._id,reason:e}),ej.toast.success("Report submitted to admins.")}catch(e){ej.toast.error(e.response?.data?.message||"Failed to submit report")}};return(0,s.jsxs)("main",{className:"min-h-screen bg-white",children:[(0,s.jsx)(n.default,{}),(0,s.jsx)("div",{className:"relative h-[420px] overflow-hidden",children:(0,s.jsxs)(k.motion.div,{style:{y:L},className:"absolute inset-0",children:[(0,s.jsx)(eb.default,{src:H,alt:"",fill:!0,className:"object-cover",sizes:"100vw",unoptimized:H.startsWith("http")}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/30 to-transparent"})]})}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[(0,s.jsx)("div",{className:"relative -mt-28 mb-12",children:(0,s.jsxs)(k.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white/95 backdrop-blur rounded-[40px] p-8 md:p-12 shadow-2xl border border-gray-100 flex flex-col md:flex-row items-center gap-8",children:[(0,s.jsx)("div",{className:"relative w-32 h-32 md:w-40 md:h-40 rounded-[32px] overflow-hidden border-4 border-white shadow-xl flex-shrink-0",children:(0,s.jsx)(eb.default,{src:O,alt:M.name,fill:!0,className:"object-cover",sizes:"160px",unoptimized:O.startsWith("http")})}),(0,s.jsxs)("div",{className:"flex-1 text-center md:text-left",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-3 mb-2",children:[(0,s.jsx)("h1",{className:"text-3xl md:text-4xl font-black tracking-tighter text-black",children:M.name}),M.isApproved&&(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-xs font-bold uppercase tracking-wider",children:[(0,s.jsx)(em.CheckCircle,{size:14})," Verified Seller"]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap justify-center md:justify-start gap-4 md:gap-6 text-gray-500 font-medium text-sm",children:[M.location&&(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(ec.MapPin,{size:16})," ",M.location]}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(ed.Calendar,{size:16})," Joined ",new Date(M.joinedAt).toLocaleDateString("en-US",{month:"long",year:"numeric"})]}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(eo.Star,{size:16,className:"text-amber-500",fill:"currentColor"})," ",(0,s.jsx)(N,{value:W.averageRating,decimalPlaces:1})," (",W.totalRentalsCompleted," rentals)"]})]}),V.length>0&&(0,s.jsx)("div",{className:"mt-3 flex flex-wrap justify-center md:justify-start gap-2",children:V.map(e=>(0,s.jsxs)("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-gray-900 text-white text-xs font-semibold",children:[(0,s.jsx)("span",{children:e.icon}),(0,s.jsx)("span",{children:e.label})]},e.label))})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto md:justify-end md:ml-auto",children:[(0,s.jsxs)("button",{type:"button",onClick:B,className:"inline-flex items-center justify-center gap-2 px-4 py-2 rounded-2xl bg-black text-white text-sm font-bold hover:bg-gray-800 transition-colors",children:[(0,s.jsx)(eh,{size:16})," Share Seller Shop"]}),(0,s.jsxs)("button",{type:"button",onClick:$,className:"inline-flex items-center justify-center gap-2 px-4 py-2 rounded-2xl bg-gray-100 text-gray-800 text-sm font-bold hover:bg-gray-200 transition-colors",children:[(0,s.jsx)(eg,{size:16})," Copy Profile Link"]}),(0,s.jsxs)("button",{type:"button",onClick:F,className:"inline-flex items-center justify-center gap-2 px-4 py-2 rounded-2xl bg-red-50 text-red-600 text-sm font-bold hover:bg-red-100 transition-colors",children:[(0,s.jsx)(ey,{size:16})," Report Seller"]})]})]})}),(0,s.jsxs)("div",{className:"grid lg:grid-cols-3 gap-12 pb-20",children:[(0,s.jsxs)("div",{className:"lg:col-span-1 space-y-10",children:[(0,s.jsxs)(k.motion.section,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:[(0,s.jsxs)("h3",{className:"text-lg font-black mb-4 flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-1.5 h-6 bg-emerald-500 rounded-full"})," About"]}),(0,s.jsx)("p",{className:"text-gray-600 leading-relaxed",children:M.bio||"This seller hasn't added a bio yet. They're a verified partner on LuxeRent."})]}),M.policies&&(0,s.jsxs)(k.motion.section,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.15},children:[(0,s.jsxs)("h3",{className:"text-lg font-black mb-4 flex items-center gap-2",children:[(0,s.jsx)(eu,{size:18,className:"text-emerald-600"})," Policies"]}),(0,s.jsx)("div",{className:"p-6 bg-gray-50/80 rounded-2xl border border-gray-100",children:(0,s.jsx)("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-sans",children:M.policies})})]}),(0,s.jsxs)(k.motion.section,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[(0,s.jsxs)("h3",{className:"text-lg font-black mb-4 flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-1.5 h-6 bg-emerald-500 rounded-full"})," Stats"]}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{label:"Avg. rating",value:W.averageRating,suffix:"/5",color:"bg-amber-50"},{label:"Rentals done",value:W.totalRentalsCompleted,suffix:"",color:"bg-blue-50"},{label:"Active listings",value:W.activeListings,suffix:"",color:"bg-emerald-50"},{label:"Response rate",value:W.responseRate,suffix:"%",color:"bg-purple-50"}].map((e,t)=>(0,s.jsxs)("div",{className:`${e.color} p-5 rounded-2xl`,children:[(0,s.jsx)("p",{className:"text-[10px] font-black uppercase text-gray-400 mb-0.5",children:e.label}),(0,s.jsx)("p",{className:"text-xl font-black text-black",children:(0,s.jsx)(N,{value:e.value,decimalPlaces:+(e.value%1!=0),suffix:e.suffix})})]},t))})]}),W.totalReviews>0&&(0,s.jsxs)(k.motion.section,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.25},children:[(0,s.jsx)("h3",{className:"text-lg font-black mb-4",children:"Rating distribution"}),(0,s.jsx)("div",{className:"space-y-2",children:[5,4,3,2,1].map(e=>{let t=T[e]??0,a=W.totalReviews?t/W.totalReviews*100:0;return(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("span",{className:"text-sm font-bold w-8",children:[e," ",(0,s.jsx)(eo.Star,{size:12,className:"inline text-amber-500",fill:"currentColor"})]}),(0,s.jsx)("div",{className:"flex-1 h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,s.jsx)(k.motion.div,{initial:{width:0},animate:{width:`${a}%`},transition:{duration:.6,delay:.2+.05*e},className:"h-full bg-amber-400 rounded-full"})}),(0,s.jsx)("span",{className:"text-xs text-gray-500 w-8",children:t})]},e)})})]})]}),(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-14",children:[Array.isArray(_)&&_.length>0&&(0,s.jsxs)(k.motion.section,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.1},className:"rounded-3xl bg-emerald-50/60 border border-emerald-100 p-6 sm:p-8 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-4 mb-4",children:[(0,s.jsxs)("h3",{className:"text-xl font-black flex items-center gap-2",children:[(0,s.jsx)("span",{className:"inline-block w-1.5 h-6 bg-emerald-500 rounded-full"}),"Top Picks from this Seller"]}),(0,s.jsx)("p",{className:"text-xs text-emerald-800 font-medium uppercase tracking-widest",children:"Based on rentals & reviews"})]}),(0,s.jsx)("div",{className:"grid sm:grid-cols-2 gap-5",children:_.map(e=>D.find(t=>t._id===e.productId)).filter(Boolean).slice(0,3).map(e=>(0,s.jsx)("div",{className:"bg-white rounded-3xl border border-emerald-100/70 shadow-sm",children:(0,s.jsx)(c.default,{product:{...e,seller:{_id:M._id,name:M.name,avatar:M.avatar,location:M.location}}})},e._id))})]}),(0,s.jsxs)(k.motion.section,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.15},children:[(0,s.jsxs)("h3",{className:"text-xl font-black mb-6 flex items-center gap-2",children:[(0,s.jsx)(ef.Package,{size:20,className:"text-emerald-600"})," Listings (",D.length,")"]}),D.length>0?(0,s.jsx)("div",{className:"grid sm:grid-cols-2 gap-6",children:D.map(e=>(0,s.jsx)(c.default,{product:{...e,seller:{_id:M._id,name:M.name,avatar:M.avatar,location:M.location}}},e._id))}):(0,s.jsxs)("div",{className:"py-16 text-center rounded-3xl border-2 border-dashed border-gray-200 bg-gray-50/50",children:[(0,s.jsx)(ef.Package,{className:"mx-auto text-gray-300 mb-4",size:48}),(0,s.jsx)("p",{className:"text-gray-500 font-medium",children:"No active listings yet."})]})]}),(0,s.jsxs)(k.motion.section,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[(0,s.jsxs)("h3",{className:"text-xl font-black mb-6",children:["Reviews (",a.totalReviews,")"]}),E.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"space-y-5",children:E.map(e=>(0,s.jsxs)("div",{className:"p-6 bg-gray-50/80 rounded-2xl border border-gray-100 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-start gap-4 mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"relative w-11 h-11 rounded-full overflow-hidden bg-gray-200 flex-shrink-0",children:(0,s.jsx)(eb.default,{src:e.renter?.avatar||"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=150",alt:"",fill:!0,className:"object-cover",unoptimized:!0})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-bold text-black",children:e.renter?.name??"Renter"}),(0,s.jsx)("div",{className:"flex items-center gap-1 text-amber-500",children:[1,2,3,4,5].map(t=>(0,s.jsx)(eo.Star,{size:14,fill:t<=e.rating?"currentColor":"none"},t))})]})]}),(0,s.jsx)("span",{className:"text-xs text-gray-400 flex-shrink-0",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:e.comment})]}),e.sellerReply?(0,s.jsxs)("div",{className:"mt-3 pl-4 border-l-2 border-emerald-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("div",{className:"relative w-8 h-8 rounded-full overflow-hidden bg-gray-200 flex-shrink-0",children:(0,s.jsx)(eb.default,{src:M.avatar||ew,alt:M.name,fill:!0,className:"object-cover",unoptimized:!0})}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,s.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:M.name}),(0,s.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-widest px-2 py-0.5 rounded-full bg-emerald-100 text-emerald-700",children:"Seller response"}),e.sellerReply.createdAt&&(0,s.jsx)("span",{className:"text-[10px] text-gray-400",children:new Date(e.sellerReply.createdAt).toLocaleDateString()})]})]}),(0,s.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:e.sellerReply.comment})]}):null]},e._id))}),A&&(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsx)("button",{onClick:()=>{P((a?.reviewPage??1)+1)},disabled:f,className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-2xl font-bold hover:bg-gray-200 transition-all disabled:opacity-50 flex items-center gap-2 mx-auto",children:f?(0,s.jsx)(ex.Loader2,{className:"animate-spin",size:18}):"Load more reviews"})})]}):(0,s.jsxs)("div",{className:"py-16 text-center rounded-3xl border-2 border-dashed border-gray-200 bg-gray-50/50",children:[(0,s.jsx)(eo.Star,{className:"mx-auto text-gray-300 mb-4",size:48}),(0,s.jsx)("p",{className:"text-gray-500 font-medium",children:"No reviews yet."})]})]})]})]})]}),(0,s.jsx)(o.default,{})]})}e.s(["default",()=>ek],92588)}]);