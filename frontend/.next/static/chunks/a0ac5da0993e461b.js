(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86051,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return l}});let l=e=>{}},80380,e=>{"use strict";let t=(0,e.i(35884).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],80380)},43938,e=>{"use strict";let t=(0,e.i(35884).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],43938)},35169,e=>{"use strict";let t=(0,e.i(35884).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>t],35169)},93561,e=>{"use strict";let t=(0,e.i(35884).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],93561)},90294,e=>{"use strict";let t=(0,e.i(35884).default)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]);e.s(["ShoppingBag",()=>t],90294)},27980,e=>{"use strict";var t=e.i(48277),a=e.i(30668),l=e.i(18033),s=e.i(79036),r=e.i(36405),c=e.i(33672),i=e.i(35691),n=e.i(53938),d=e.i(90294),o=e.i(43938),x=e.i(93561),m=e.i(35169),p=e.i(80380),u=e.i(16506);function h(){let{user:e}=(0,s.useSelector)(e=>e.auth),[h,b]=(0,a.useState)([]),[y,g]=(0,a.useState)(!0),[j,f]=(0,a.useState)(null),[N,k]=(0,a.useState)(5),[v,w]=(0,a.useState)(""),[S,C]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{(async()=>{try{let e=await l.default.get("/api/rentals");b(e.data.rentals)}catch(e){console.error(e)}finally{g(!1)}})()},[]),(0,t.jsxs)("main",{className:"min-h-screen bg-gray-50/50",children:[(0,t.jsx)(r.default,{}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-32 pb-20",children:[(0,t.jsx)("header",{className:"flex justify-between items-end mb-12",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-4xl font-black tracking-tighter text-black mb-2",children:"My Dashboard"}),(0,t.jsxs)("p",{className:"text-gray-500",children:["Welcome back, ",e?.name,". Manage your active rentals and history."]})]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[{label:"Active Rentals",value:h.filter(e=>"active"===e.rentalStatus).length,icon:(0,t.jsx)(o.Clock,{className:"text-emerald-500"})},{label:"Total Spent",value:`$${h.reduce((e,t)=>e+("paid"===t.paymentStatus?t.totalAmount:0),0)}`,icon:(0,t.jsx)(d.ShoppingBag,{className:"text-blue-500"})},{label:"Completed",value:h.filter(e=>"completed"===e.rentalStatus).length,icon:(0,t.jsx)(x.CheckCircle,{className:"text-purple-500"})}].map((e,a)=>(0,t.jsxs)("div",{className:"bg-white p-8 rounded-[32px] border border-gray-100 shadow-sm flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-bold text-gray-400 uppercase mb-1",children:e.label}),(0,t.jsx)("p",{className:"text-3xl font-black text-black",children:e.value})]}),(0,t.jsx)("div",{className:"p-4 bg-gray-50 rounded-2xl",children:e.icon})]},a))}),(0,t.jsxs)("section",{className:"bg-white rounded-[40px] border border-gray-100 shadow-sm overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-8 border-b border-gray-50 flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-xl font-black",children:"My Rental History"}),(0,t.jsx)("button",{className:"text-sm font-bold text-emerald-600",children:"Download Report"})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-50/50 text-xs font-black text-gray-400 uppercase tracking-widest",children:[(0,t.jsx)("th",{className:"px-8 py-4",children:"Product"}),(0,t.jsx)("th",{className:"px-8 py-4",children:"Dates"}),(0,t.jsx)("th",{className:"px-8 py-4",children:"Total"}),(0,t.jsx)("th",{className:"px-8 py-4",children:"Payment"}),(0,t.jsx)("th",{className:"px-8 py-4",children:"Status"}),(0,t.jsx)("th",{className:"px-8 py-4 text-right",children:"Action"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-50",children:h.length>0?h.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[(0,t.jsx)("td",{className:"px-8 py-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("img",{src:e.product?.images[0],className:"w-12 h-12 rounded-xl object-cover",alt:""}),(0,t.jsx)("span",{className:"font-bold text-black",children:e.product?.title})]})}),(0,t.jsxs)("td",{className:"px-8 py-6 text-sm text-gray-500 font-medium",children:[new Date(e.startDate).toLocaleDateString()," - ",new Date(e.endDate).toLocaleDateString()]}),(0,t.jsxs)("td",{className:"px-8 py-6 font-black text-black",children:["$",e.totalAmount]}),(0,t.jsx)("td",{className:"px-8 py-6",children:(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${(e=>{switch(e){case"paid":return"text-emerald-600 bg-emerald-50";case"pending":return"text-amber-600 bg-amber-50";case"failed":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}})(e.paymentStatus)}`,children:e.paymentStatus})}),(0,t.jsx)("td",{className:"px-8 py-6",children:(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider bg-gray-100 text-gray-600",children:e.rentalStatus})}),(0,t.jsx)("td",{className:"px-8 py-6 text-right",children:"completed"===e.rentalStatus?(0,t.jsx)("button",{onClick:()=>f({rental:e}),className:"text-emerald-600 font-bold text-sm hover:underline",children:"Rate Product"}):(0,t.jsx)(u.default,{href:`/products/${e.product?._id}`,className:"text-black font-bold text-sm hover:underline",children:"View Details"})})]},e._id)):(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"px-8 py-20 text-center text-gray-400 italic font-medium",children:y?"Loading your rentals...":"No rentals found. Start browsing products!"})})})]})})]})]}),(0,t.jsx)(n.AnimatePresence,{children:j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>f(null),className:"fixed inset-0 bg-black/60 z-50"}),(0,t.jsxs)(i.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-md bg-white rounded-3xl shadow-2xl z-50 p-8",children:[(0,t.jsx)("h3",{className:"text-xl font-black mb-2",children:"Rate this rental"}),(0,t.jsx)("p",{className:"text-gray-500 text-sm mb-6",children:j.rental.product?.title}),(0,t.jsx)("div",{className:"flex gap-1 mb-4",children:[1,2,3,4,5].map(e=>(0,t.jsx)("button",{onClick:()=>k(e),className:"p-1",children:(0,t.jsx)(m.Star,{size:32,className:e<=N?"text-amber-500 fill-amber-500":"text-gray-200"})},e))}),(0,t.jsx)("textarea",{value:v,onChange:e=>w(e.target.value),placeholder:"Your review...",className:"w-full h-24 px-4 py-3 rounded-2xl border border-gray-200 resize-none focus:ring-2 focus:ring-emerald-500 outline-none"}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,t.jsx)("button",{onClick:()=>f(null),className:"flex-1 py-3 rounded-2xl border border-gray-200 font-bold",children:"Cancel"}),(0,t.jsx)("button",{onClick:handleSubmitReview,disabled:S||!v.trim(),className:"flex-1 py-3 rounded-2xl bg-emerald-600 text-white font-bold flex items-center justify-center gap-2 disabled:opacity-50",children:S?(0,t.jsx)(p.Loader2,{className:"animate-spin",size:20}):"Submit"})]})]})]})}),(0,t.jsx)(c.default,{})]})}e.i(94744),e.s(["default",()=>h])}]);