(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86051,(e,a,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return l}});let l=e=>{}},80380,e=>{"use strict";let a=(0,e.i(35884).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>a],80380)},43938,e=>{"use strict";let a=(0,e.i(35884).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>a],43938)},93561,e=>{"use strict";let a=(0,e.i(35884).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>a],93561)},59484,e=>{"use strict";let a=(0,e.i(35884).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>a],59484)},28901,e=>{"use strict";let a=(0,e.i(35884).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>a],28901)},68870,e=>{"use strict";var a=e.i(48277),t=e.i(30668),l=e.i(18033),r=e.i(79036),s=e.i(40672),i=e.i(36405),o=e.i(33672),n=e.i(35691),c=e.i(53938),d=e.i(35884);let p=(0,d.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var x=e.i(59484),m=e.i(28901),h=e.i(43938),b=e.i(93561),u=e.i(80380);let g=(0,d.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),y=(0,d.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var f=e.i(94744);e.i(42588);var v=e.i(16506);function j(){let e=(0,r.useDispatch)(),{user:d}=(0,r.useSelector)(e=>e.auth),[j,N]=(0,t.useState)("overview"),[w,k]=(0,t.useState)([]),[P,C]=(0,t.useState)([]),[S,A]=(0,t.useState)(!0),[F,D]=(0,t.useState)(!1),[L,R]=(0,t.useState)(!1),[M,U]=(0,t.useState)({title:"",description:"",category:"Electronics",pricePerDay:"",images:[]}),[$,z]=(0,t.useState)({bio:"",location:"",policies:"",avatarFile:null,bannerFile:null,avatarPreview:"",bannerPreview:""}),[O,B]=(0,t.useState)(!1),[E,q]=(0,t.useState)(!1),T=(0,t.useCallback)(async()=>{B(!0);try{let e=(await l.default.get("/api/auth/me")).data.user;z(a=>({...a,bio:e.bio||"",location:e.location||"",policies:e.policies||"",avatarPreview:e.avatar||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop",bannerPreview:e.shopBanner||"https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?w=1200&h=400&fit=crop"}))}catch{f.toast.error("Failed to load shop profile")}finally{B(!1)}},[]);(0,t.useEffect)(()=>{"shop"===j&&T()},[j,T]),(0,t.useEffect)(()=>{let e=async()=>{try{let[e,a]=await Promise.all([l.default.get(`/api/products?seller=${d?.id}&approved=false`),l.default.get("/api/rentals")]);k(e.data.products),C(a.data.rentals)}catch(e){console.error(e)}finally{A(!1)}};d&&e()},[d]);let I=async e=>{e.preventDefault(),R(!0);try{let e=new FormData;e.append("title",M.title),e.append("description",M.description),e.append("category",M.category),e.append("pricePerDay",M.pricePerDay),M.images.forEach(a=>e.append("images",a)),await l.default.post("/api/products",e),f.toast.success("Product submitted for approval!"),D(!1);let a=await l.default.get(`/api/products?seller=${d?.id}&approved=false`);k(a.data.products)}catch(e){f.toast.error(e.response?.data?.message||"Submission failed")}finally{R(!1)}},_=async a=>{a.preventDefault(),q(!0);try{let a=new FormData;a.append("bio",$.bio),a.append("location",$.location),a.append("policies",$.policies),$.avatarFile&&a.append("avatar",$.avatarFile),$.bannerFile&&a.append("shopBanner",$.bannerFile);let t=await l.default.patch("/api/seller/profile",a);f.toast.success("Shop profile updated!"),e((0,s.setUser)(t.data.user))}catch(e){f.toast.error(e.response?.data?.message||"Update failed")}finally{q(!1)}};return(0,a.jsxs)("main",{className:"min-h-screen bg-gray-50/50",children:[(0,a.jsx)(i.default,{}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-32 pb-20",children:[(0,a.jsxs)("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6 mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl font-black tracking-tighter text-black mb-2",children:"Seller Hub"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Manage your rental inventory and track your earnings."})]}),"overview"===j&&(0,a.jsxs)("button",{onClick:()=>D(!0),className:"px-8 py-4 bg-emerald-600 text-white rounded-2xl font-bold flex items-center gap-2 hover:bg-emerald-500 transition-all shadow-xl shadow-emerald-500/20",children:[(0,a.jsx)(p,{size:20})," Add New Listing"]})]}),(0,a.jsxs)("div",{className:"flex gap-2 mb-10",children:[(0,a.jsx)("button",{onClick:()=>N("overview"),className:`px-6 py-3 rounded-2xl text-sm font-bold transition-all ${"overview"===j?"bg-black text-white shadow-lg":"bg-white text-gray-500 hover:bg-gray-50 border border-gray-100"}`,children:"Overview"}),(0,a.jsxs)("button",{onClick:()=>N("shop"),className:`px-6 py-3 rounded-2xl text-sm font-bold transition-all flex items-center gap-2 ${"shop"===j?"bg-black text-white shadow-lg":"bg-white text-gray-500 hover:bg-gray-50 border border-gray-100"}`,children:[(0,a.jsx)(g,{size:18})," Shop Settings"]})]}),(0,a.jsxs)(c.AnimatePresence,{mode:"wait",children:["overview"===j&&(0,a.jsxs)(n.motion.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},className:"space-y-12",children:[(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[{label:"Total Earnings",value:`$${P.reduce((e,a)=>e+("paid"===a.paymentStatus?a.totalAmount:0),0)}`,icon:(0,a.jsx)(m.DollarSign,{className:"text-emerald-500"}),color:"bg-emerald-50"},{label:"Active Products",value:w.filter(e=>e.isApproved).length,icon:(0,a.jsx)(x.Package,{className:"text-blue-500"}),color:"bg-blue-50"},{label:"Pending Approval",value:w.filter(e=>!e.isApproved).length,icon:(0,a.jsx)(h.Clock,{className:"text-amber-500"}),color:"bg-amber-50"},{label:"Rental Requests",value:P.length,icon:(0,a.jsx)(b.CheckCircle,{className:"text-purple-500"}),color:"bg-purple-50"}].map((e,t)=>(0,a.jsxs)("div",{className:"bg-white p-8 rounded-[32px] border border-gray-100 shadow-sm flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:e.label}),(0,a.jsx)("p",{className:"text-2xl font-black text-black",children:e.value})]}),(0,a.jsx)("div",{className:`p-4 ${e.color} rounded-2xl`,children:e.icon})]},t))}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-12",children:[(0,a.jsxs)("section",{className:"lg:col-span-2 bg-white rounded-[40px] border border-gray-100 shadow-sm overflow-hidden",children:[(0,a.jsx)("div",{className:"p-8 border-b border-gray-50",children:(0,a.jsx)("h2",{className:"text-xl font-black",children:"My Inventory"})}),(0,a.jsx)("div",{className:"divide-y divide-gray-50",children:w.length>0?w.map(e=>(0,a.jsxs)("div",{className:"p-8 flex items-center justify-between hover:bg-gray-50/50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("img",{src:e.images[0],className:"w-16 h-16 rounded-2xl object-cover",alt:""}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-black",children:e.title}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:[e.category," â€¢ $",e.pricePerDay,"/day"]})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsx)("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${e.isApproved?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"}`,children:e.isApproved?"Approved":"Pending"})})]},e._id)):(0,a.jsx)("div",{className:"p-20 text-center text-gray-400 italic",children:"No products listed yet."})})]}),(0,a.jsxs)("section",{className:"bg-white rounded-[40px] border border-gray-100 shadow-sm overflow-hidden",children:[(0,a.jsx)("div",{className:"p-8 border-b border-gray-50",children:(0,a.jsx)("h2",{className:"text-xl font-black",children:"Recent Bookings"})}),(0,a.jsx)("div",{className:"p-8 space-y-6",children:P.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center font-bold text-gray-500",children:e.renter?.name?.charAt(0)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-bold text-black",children:e.renter?.name}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:e.product?.title})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-sm font-black text-emerald-600",children:["$",e.totalAmount]}),(0,a.jsx)("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tighter",children:e.paymentStatus})]})]},e._id))})]})]})]},"overview"),"shop"===j&&(0,a.jsx)(n.motion.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},className:"space-y-10",children:(0,a.jsxs)("div",{className:"bg-white rounded-[40px] border border-gray-100 shadow-sm overflow-hidden p-8 md:p-10",children:[(0,a.jsx)("h2",{className:"text-2xl font-black text-black mb-2",children:"Shop Settings"}),(0,a.jsx)("p",{className:"text-gray-500 mb-8",children:"Edit your public shop profile. Renters see this on your storefront."}),O?(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsx)(u.Loader2,{className:"animate-spin text-emerald-600",size:40})}):(0,a.jsxs)("form",{onSubmit:_,className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-bold text-gray-700 ml-1 block mb-2",children:"Shop Banner"}),(0,a.jsxs)("div",{className:"relative h-48 rounded-2xl border-2 border-dashed border-gray-200 overflow-hidden bg-gray-50 flex items-center justify-center cursor-pointer hover:border-emerald-400 transition-colors",onClick:()=>document.getElementById("banner-input")?.click(),children:[$.bannerPreview||$.bannerFile?(0,a.jsx)("img",{src:$.bannerFile?URL.createObjectURL($.bannerFile):$.bannerPreview,alt:"Banner preview",className:"w-full h-full object-cover"}):(0,a.jsxs)("div",{className:"text-center text-gray-400",children:[(0,a.jsx)(y,{size:32,className:"mx-auto mb-2 opacity-60"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Drop image or click"})]}),(0,a.jsx)("input",{id:"banner-input",type:"file",accept:"image/*",className:"hidden",onChange:e=>{let a=e.target.files?.[0];a&&z(e=>({...e,bannerFile:a,bannerPreview:URL.createObjectURL(a)}))}})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-bold text-gray-700 ml-1 block mb-2",children:"Profile Picture"}),(0,a.jsxs)("div",{className:"relative w-28 h-28 rounded-2xl border-2 border-dashed border-gray-200 overflow-hidden bg-gray-50 flex items-center justify-center cursor-pointer hover:border-emerald-400 transition-colors",onClick:()=>document.getElementById("avatar-input")?.click(),children:[$.avatarPreview||$.avatarFile?(0,a.jsx)("img",{src:$.avatarFile?URL.createObjectURL($.avatarFile):$.avatarPreview,alt:"Avatar preview",className:"w-full h-full object-cover"}):(0,a.jsx)(y,{size:28,className:"text-gray-400"}),(0,a.jsx)("input",{id:"avatar-input",type:"file",accept:"image/*",className:"hidden",onChange:e=>{let a=e.target.files?.[0];a&&z(e=>({...e,avatarFile:a,avatarPreview:URL.createObjectURL(a)}))}})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-bold text-gray-700 ml-1 block mb-2",children:"Location"}),(0,a.jsx)("input",{type:"text",value:$.location,onChange:e=>z(a=>({...a,location:e.target.value})),className:"w-full bg-gray-50 border border-transparent rounded-2xl px-6 py-4 focus:bg-white focus:border-emerald-500 outline-none transition-all",placeholder:"e.g. San Francisco, CA"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-bold text-gray-700 ml-1 block mb-2",children:"About / Bio"}),(0,a.jsx)("textarea",{value:$.bio,onChange:e=>z(a=>({...a,bio:e.target.value})),className:"w-full bg-gray-50 border border-transparent rounded-2xl px-6 py-4 focus:bg-white focus:border-emerald-500 outline-none transition-all h-32",placeholder:"Tell renters about your shop and what you offer."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-bold text-gray-700 ml-1 block mb-2",children:"Policies"}),(0,a.jsx)("textarea",{value:$.policies,onChange:e=>z(a=>({...a,policies:e.target.value})),className:"w-full bg-gray-50 border border-transparent rounded-2xl px-6 py-4 focus:bg-white focus:border-emerald-500 outline-none transition-all h-40 font-mono text-sm",placeholder:"Rental rules, cancellation, security deposit, etc. (one per line or short paragraphs)"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[(0,a.jsx)(v.default,{href:d?.id?`/seller/${d.id}`:"#",className:"flex-1 py-4 bg-gray-100 text-gray-700 rounded-2xl font-bold hover:bg-gray-200 transition-all text-center",children:"View public shop"}),(0,a.jsx)("button",{type:"submit",disabled:E,className:"flex-1 py-4 bg-black text-white rounded-2xl font-bold hover:bg-gray-800 transition-all shadow-xl shadow-black/10 flex items-center justify-center gap-2",children:E?(0,a.jsx)(u.Loader2,{className:"animate-spin",size:20}):"Save changes"})]})]})]})},"shop")]})]}),(0,a.jsx)(c.AnimatePresence,{children:F&&(0,a.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[(0,a.jsx)(n.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>D(!1),className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),(0,a.jsx)(n.motion.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white w-full max-w-2xl rounded-[40px] shadow-2xl overflow-hidden",children:(0,a.jsxs)("div",{className:"p-10",children:[(0,a.jsx)("h2",{className:"text-3xl font-black mb-2",children:"List New Item"}),(0,a.jsx)("p",{className:"text-gray-500 mb-8",children:"Fill in the details to submit your product for admin approval."}),(0,a.jsxs)("form",{onSubmit:I,className:"grid grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-bold text-gray-700 ml-1",children:"Product Title"}),(0,a.jsx)("input",{required:!0,type:"text",value:M.title,onChange:e=>U({...M,title:e.target.value}),className:"w-full bg-gray-50 border border-transparent rounded-2xl px-6 py-4 focus:bg-white focus:border-emerald-500 outline-none transition-all",placeholder:"e.g. Professional DJI Drone"})]}),(0,a.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-bold text-gray-700 ml-1",children:"Description"}),(0,a.jsx)("textarea",{required:!0,value:M.description,onChange:e=>U({...M,description:e.target.value}),className:"w-full bg-gray-50 border border-transparent rounded-2xl px-6 py-4 focus:bg-white focus:border-emerald-500 outline-none transition-all h-32",placeholder:"Describe the condition, features, and terms..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-bold text-gray-700 ml-1",children:"Category"}),(0,a.jsxs)("select",{value:M.category,onChange:e=>U({...M,category:e.target.value}),className:"w-full bg-gray-50 border border-transparent rounded-2xl px-6 py-4 focus:bg-white focus:border-emerald-500 outline-none transition-all appearance-none cursor-pointer",children:[(0,a.jsx)("option",{children:"Electronics"}),(0,a.jsx)("option",{children:"Furniture"}),(0,a.jsx)("option",{children:"Photography"}),(0,a.jsx)("option",{children:"Outdoor"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-bold text-gray-700 ml-1",children:"Price / Day ($)"}),(0,a.jsx)("input",{required:!0,type:"number",value:M.pricePerDay,onChange:e=>U({...M,pricePerDay:e.target.value}),className:"w-full bg-gray-50 border border-transparent rounded-2xl px-6 py-4 focus:bg-white focus:border-emerald-500 outline-none transition-all",placeholder:"25"})]}),(0,a.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-bold text-gray-700 ml-1",children:"Product Images"}),(0,a.jsx)("input",{type:"file",multiple:!0,onChange:e=>U({...M,images:Array.from(e.target.files||[])}),className:"w-full bg-gray-50 border border-dashed border-gray-200 rounded-2xl px-6 py-8 text-sm file:hidden cursor-pointer hover:border-emerald-500 transition-all"})]}),(0,a.jsxs)("div",{className:"col-span-2 flex gap-4 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>D(!1),className:"flex-1 py-4 bg-gray-100 text-gray-600 rounded-2xl font-bold hover:bg-gray-200 transition-all",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:L,className:"flex-1 py-4 bg-black text-white rounded-2xl font-bold hover:bg-gray-800 transition-all shadow-xl shadow-black/10 flex items-center justify-center gap-2",children:L?(0,a.jsx)(u.Loader2,{className:"animate-spin"}):"Submit Listing"})]})]})]})})]})}),(0,a.jsx)(o.default,{})]})}e.s(["default",()=>j],68870)}]);