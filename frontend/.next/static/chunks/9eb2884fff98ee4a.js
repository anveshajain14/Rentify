(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86051,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},82087,e=>{"use strict";let t=(0,e.i(35884).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>t],82087)},80380,e=>{"use strict";let t=(0,e.i(35884).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],80380)},96086,(e,t,a)=>{t.exports=e.r(9187)},52443,e=>{"use strict";let t=(0,e.i(35884).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>t],52443)},38344,e=>{"use strict";var t=e.i(48277),a=e.i(30668),r=e.i(18033),s=e.i(96086),i=e.i(16506),l=e.i(94744),d=e.i(35691),n=e.i(82087),o=e.i(80380),c=e.i(52443),u=e.i(36405),m=e.i(33672);function x(){let e=(0,s.useSearchParams)().get("email")||"",[x,h]=(0,a.useState)(e),[g,y]=(0,a.useState)(["","","","","",""]),[f,b]=(0,a.useState)(!1),[p,j]=(0,a.useState)(!1),[v,k]=(0,a.useState)(0),w=(0,s.useRouter)(),N=(0,a.useRef)([]),S=async e=>{if(e.preventDefault(),!x)return void l.toast.error("Please enter your email");let t=g.join("");if(6!==t.length)return void l.toast.error("Please enter the 6-digit code");b(!0);try{let e=await r.default.post("/api/auth/verify-email",{email:x,otp:t});l.toast.success(e.data.message||"Email verified!"),w.push("/login")}catch(e){l.toast.error(e.response?.data?.message||"Verification failed")}finally{b(!1)}},P=async()=>{if(!x)return void l.toast.error("Please enter your email");if(!(v>0)){j(!0);try{let e=await r.default.post("/api/auth/resend-verification-otp",{email:x});l.toast.success(e.data.message||"Code sent!"),k(60);let t=setInterval(()=>{k(e=>(e<=1&&clearInterval(t),e-1))},1e3)}catch(e){l.toast.error(e.response?.data?.message||"Resend failed")}finally{j(!1)}}};return(0,t.jsxs)("main",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,t.jsx)(u.default,{}),(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen pt-24 px-4 pb-12",children:(0,t.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-[40px] shadow-2xl shadow-black/5 p-10 border border-gray-100 dark:border-gray-700",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-black tracking-tighter text-black dark:text-white mb-2",children:"Verify your email"}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Enter the 6-digit code sent to your email"})]}),(0,t.jsxs)("form",{onSubmit:S,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 ml-1",children:"Email Address"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n.Mail,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,t.jsx)("input",{type:"email",value:x,onChange:e=>h(e.target.value),className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-gray-700 border border-transparent rounded-2xl focus:bg-white dark:focus:bg-gray-600 focus:border-emerald-500 transition-all outline-none dark:text-white",placeholder:"name@example.com",required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 ml-1",children:"Verification Code"}),(0,t.jsx)("div",{className:"flex gap-2 justify-center",onPaste:e=>{e.preventDefault();let t=e.clipboardData.getData("text").replace(/\D/g,"").slice(0,6);if(!t)return;let a=[...g];t.split("").forEach((e,t)=>{a[t]=e}),y(a),N.current[Math.min(t.length,5)]?.focus()},children:g.map((e,a)=>(0,t.jsx)("input",{ref:e=>N.current[a]=e,type:"text",inputMode:"numeric",maxLength:1,value:e,onChange:e=>((e,t)=>{if(!/^\d*$/.test(t))return;let a=[...g];a[e]=t.slice(-1),y(a),t&&e<5&&N.current[e+1]?.focus()})(a,e.target.value),onKeyDown:e=>{"Backspace"===e.key&&!g[a]&&a>0&&N.current[a-1]?.focus()},className:"w-12 h-14 text-center text-xl font-bold bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20 outline-none dark:text-white"},a))})]}),(0,t.jsx)("button",{type:"submit",disabled:f,className:"w-full py-4 bg-black dark:bg-white text-white dark:text-black rounded-2xl font-bold flex items-center justify-center gap-2 hover:bg-gray-800 dark:hover:bg-gray-200 transition-all shadow-xl shadow-black/10 disabled:opacity-50",children:f?(0,t.jsx)(o.Loader2,{className:"animate-spin",size:20}):(0,t.jsxs)(t.Fragment,{children:["Verify ",(0,t.jsx)(c.ArrowRight,{size:18})]})})]}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsx)("button",{type:"button",onClick:P,disabled:p||v>0,className:"text-sm text-emerald-600 font-medium hover:underline disabled:opacity-50 disabled:cursor-not-allowed",children:v>0?`Resend in ${v}s`:p?"Sending...":"Resend verification code"})}),(0,t.jsx)("div",{className:"mt-8 text-center text-sm",children:(0,t.jsxs)("p",{className:"text-gray-500 dark:text-gray-400",children:["Already verified?"," ",(0,t.jsx)(i.default,{href:"/login",className:"text-emerald-600 font-bold hover:underline",children:"Sign In"})]})})]})}),(0,t.jsx)(m.default,{})]})}e.s(["default",()=>x])}]);